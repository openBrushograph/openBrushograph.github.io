<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Batak Skeleton Assembler</title>
  <style>
    :root {
      --bg: #1a0505;
      /* Black/Dark Red Void */
      --bg-pattern: #000000;
      --card-bg: #2b0b0b;
      /* Gorga Wood Dark */
      --accent: #d32f2f;
      /* Gorga Red */
      --accent-gold: #ffd700;
      /* Prosperity Gold */
      --text: #fff8e1;
      /* Parchment/Bone */
      --text-muted: #d7ccc8;
      --border: #8e0000;
      --input-bg: #420f0f;
      --shadow-garish: 0 10px 30px rgba(0, 0, 0, 0.7);
      --font-display: "Times New Roman", serif;
      --font-body: system-ui, sans-serif;
    }

    /* Ulos / Tricolor Theme (Black-Red-White) */
    body.theme-ulos {
      --bg: #000000;
      --bg-pattern: #0a0a0a;
      --card-bg: #050505;
      --accent: #ff0000;
      --accent-gold: #ffffff;
      /* White replaces gold */
      --text: #ffffff;
      --text-muted: #bbbbbb;
      --border: #ff0000;
      --input-bg: #111111;
      --shadow-garish: 0 0 15px rgba(255, 0, 0, 0.5);
    }

    body.theme-ulos .container {
      border-style: solid;
      border-width: 2px;
    }

    body {
      font-family: var(--font-body);
      background-color: var(--bg);
      background-image:
        radial-gradient(circle at 10% 20%, rgba(142, 0, 0, 0.2) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 20%);
      color: var(--text);
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      border: 10px solid var(--bg);
      /* Frame */
    }

    .page-shell {
      width: 100%;
      max-width: 900px;
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .container {
      background: var(--card-bg);
      padding: 30px;
      border-radius: 4px;
      box-shadow: var(--shadow-garish);
      border: 3px double var(--accent-gold);
      /* Double border like carving */
      position: relative;
    }

    /* Ornamental Corners */
    .container::before {
      content: "";
      position: absolute;
      top: 5px;
      left: 5px;
      width: 20px;
      height: 20px;
      border-top: 2px solid var(--accent-gold);
      border-left: 2px solid var(--accent-gold);
    }

    .container::after {
      content: "";
      position: absolute;
      bottom: 5px;
      right: 5px;
      width: 20px;
      height: 20px;
      border-bottom: 2px solid var(--accent-gold);
      border-right: 2px solid var(--accent-gold);
    }

    h2 {
      margin-top: 0;
      font-family: var(--font-display);
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--accent-gold);
      text-align: center;
      border-bottom: 1px solid var(--accent);
      padding-bottom: 15px;
      text-shadow: 2px 2px 0px #000;
    }

    p {
      text-align: center;
      color: var(--text-muted);
      font-style: italic;
    }

    .settings-box {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border: 1px solid var(--border);
      margin-top: 20px;
    }

    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 15px;
    }

    .form-group {
      flex: 1 1 140px;
      min-width: 140px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.8rem;
      color: var(--accent-gold);
      font-family: var(--font-display);
      letter-spacing: 0.5px;
    }

    input[type="number"],
    input[type="text"] {
      width: 100%;
      padding: 12px;
      box-sizing: border-box;
      border: 1px solid var(--border);
      background: var(--input-bg);
      color: var(--accent-gold);
      font-family: monospace;
      font-size: 1rem;
    }

    input:focus {
      outline: 2px solid var(--accent);
      border-color: var(--accent);
    }

    button {
      background: var(--accent);
      color: #fff;
      border: 2px solid #5a0000;
      padding: 14px 24px;
      cursor: pointer;
      font-family: var(--font-display);
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
      width: 100%;
      margin-top: 20px;
      transition: all 0.2s;
      box-shadow: 0 4px 0 #3b0000;
    }

    button:hover {
      background: #b71c1c;
      transform: translateY(2px);
      box-shadow: 0 2px 0 #3b0000;
    }

    button:active {
      transform: translateY(4px);
      box-shadow: none;
    }

    #status {
      margin-top: 15px;
      padding: 10px;
      background: #000;
      color: var(--accent-gold);
      font-family: monospace;
      font-size: 12px;
      border: 1px solid var(--border);
      display: none;
      text-align: center;
    }

    .preview-item {
      background: #fff;
      /* Paper for preview */
      padding: 20px;
      border: 4px solid var(--card-bg);
      text-align: center;
      margin-top: 20px;
      box-shadow: var(--shadow-garish);
    }

    .preview-item h4 {
      color: #000;
      font-family: var(--font-display);
      text-transform: uppercase;
      margin-top: 0;
    }

    canvas {
      border: 1px dashed #999;
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    textarea {
      width: 100%;
      height: 200px;
      margin-top: 20px;
      background: #1a0505;
      color: var(--accent-gold);
      font-family: monospace;
      padding: 15px;
      border: 1px solid var(--border);
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.5);
    }

    .console-output {
      background: #000;
      color: #00ff00;
      /* Terminal green stands out against red */
      font-family: monospace;
      font-size: 12px;
      padding: 10px;
      height: 150px;
      overflow-y: auto;
      border: 1px solid var(--border);
      margin-top: 10px;
      display: block;
    }

    #custom-tooltip {
      position: absolute;
      background: rgba(43, 11, 11, 0.95);
      color: var(--accent-gold);
      border: 1px solid var(--accent-gold);
      padding: 8px 12px;
      border-radius: 4px;
      font-family: var(--font-body);
      font-size: 0.9rem;
      pointer-events: none;
      z-index: 1000;
      display: none;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      max-width: 300px;
      line-height: 1.4;
    }

    body.theme-ulos #custom-tooltip {
      background: rgba(0, 0, 0, 0.95);
      border: 1px solid #ff0000;
      color: #fff;
    }



    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border: 1px solid var(--bg);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }
  </style>
</head>

<body>
  <div class="page-shell">
    <div class="container">
      <div style="position: absolute; top: 15px; right: 15px; display: flex; gap: 5px; z-index: 10;">
        <button onclick="setTheme('gorga')"
          style="padding: 4px 8px; font-size: 10px; width: auto; margin:0; border: 1px solid #ffd700; background: #2b0b0b; color: #ffd700;">GORGA</button>
        <button onclick="setTheme('ulos')"
          style="padding: 4px 8px; font-size: 10px; width: auto; margin:0; border: 1px solid #fff; background: #000; color: #fff;">ULOS</button>
      </div>
      <h2>GORGA BATAK ASSEMBLER</h2>
      <p
        style="color: var(--accent-gold); font-family: var(--font-display); font-style: italic; margin-top: -10px; opacity: 0.8;">
        "Horas ma di hita saluhutna"</p>
      <p style="color: var(--muted); font-size: 0.9rem;">Assemble pre-skeletonized Batak glyphs for perfect
        single-stroke G-code.</p>

      <div class="settings-box">
        <div class="form-row">
          <div class="form-group" style="flex: 2;">
            <label for="inputText">Text (Latin or Batak):</label>
            <input type="text" id="inputText" value="tuak batak" placeholder="Type here..."
              title="Type Latin text to automatically transliterate to Batak, or paste Batak characters directly.">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="width">Target Width (mm):</label>
            <input type="number" id="width" value="120" step="1"
              title="Target width of the text block in millimeters. Determines scale.">
          </div>
          <div class="form-group">
            <label for="ox">Offset X (mm):</label>
            <input type="number" id="ox" value="10" step="1"
              title="X-axis offset (start position) from origin in millimeters.">
          </div>
          <div class="form-group">
            <label for="oy">Offset Y (mm):</label>
            <input type="number" id="oy" value="70" step="1"
              title="Y-axis offset (start position) from origin in millimeters.">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="feed">Feed Rate (mm/min):</label>
            <input type="number" id="feed" value="1600" title="Movement speed of the plotter in mm/min.">
          </div>
          <div class="form-group">
            <label for="bx">Backlash X (mm):</label>
            <input type="number" id="bx" value="0.0" step="0.1"
              title="Compensate for mechanical slack/play on X-axis (mm).">
          </div>
          <div class="form-group">
            <label for="by">Backlash Y (mm):</label>
            <input type="number" id="by" value="0.0" step="0.1"
              title="Compensate for mechanical slack/play on Y-axis (mm).">
          </div>
          <div class="form-group">
            <label for="safeZ">Safe Z (mm):</label>
            <input type="number" id="safeZ" value="5" step="0.1" title="Height to retract the pen during travel moves.">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="kerning">Kerning (font units):</label>
            <input type="number" id="kerning" value="0.1" step="0.01"
              title="Horizontal space between characters (font units). Negative values tighten text.">
          </div>
          <div class="form-group">
            <label for="lineHeight">Line Height:</label>
            <input type="number" id="lineHeight" value="1.5" step="0.1"
              title="Vertical spacing between lines (multiplier).">
          </div>
          <div class="form-group">
            <label for="artefactThr">Artefact Filter:</label>
            <input type="number" id="artefactThr" value="0.05" step="0.01"
              title="Ignore paths shorter than this length (mm) to reduce noise/dots.">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="dipDist">Dip Interval (mm):</label>
            <input type="number" id="dipDist" value="50" title="Travel distance (mm) before re-dipping the pen.">
          </div>
          <div class="form-group" style="flex:2">
            <label>Dip Location (XY Reference):</label>
            <div style="display:flex; gap:10px;">
              <input type="number" id="dipX" value="41" placeholder="X" style="width: 60px;"
                title="X coordinate of the ink dip station.">
              <input type="number" id="dipY" value="5" placeholder="Y" style="width: 60px;"
                title="Y coordinate of the ink dip station.">
            </div>
            <small style="color:#888;">Moves the start of the sequence below to this X/Y.</small>
          </div>
        </div>



        <div class="form-row">
          <div class="form-group">
            <label for="controllerHost">Controller Host (for Local Mode):</label>
            <input type="text" id="controllerHost" value="brushographwhite.local"
              placeholder="e.g. 192.168.0.x or name.local"
              title="Hostname or IP of the FluidNC controller when running locally.">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group"
            style="flex:1; align-items:center; flex-direction:row; justify-content:flex-start; gap:10px;">
            <input type="checkbox" id="isPlotter" style="width:auto; transform:scale(1.5);">
            <label for="isPlotter" style="margin-bottom:0; cursor:pointer;"
              title="If checked, disables all ink dipping sequences (Continuous Plot).">Continuous Plot (No
              Dipping)</label>
          </div>
        </div>

        <details>
          <summary style="cursor: pointer; color: #fff; margin-bottom: 5px;">Advanced: Custom Dip Sequence</summary>
          <div class="form-row">
            <div class="form-group" style="flex:1">
              <label>Custom Dip Sequence (G-code):</label>
              <textarea id="dipSeq"
                style="width:100%; height:150px; background:#111; color:#eee; border:1px solid #333; font-family:monospace; padding:5px; white-space: pre;"
                placeholder="Paste custom G-code here..."
                title="G-code command sequence to execute for dipping the pen.">; Colour 1 pickup
G1 Z10 F1000;
G0 X41 Y5 F1600;
G1 Z0 F1000;
G1 X40.102 Y7.295 Z0 S800 F1200;
G1 X40.026 Y7.642 Z0 F1200;
G1 X40 Y8 Z0 F1200;
G1 X40.026 Y8.358 Z0 F1200;
G1 X40.102 Y8.705 Z0 F1200;
G1 X40.225 Y9.041 Z0 F1200;
G1 X40.393 Y9.362 Z0 F1200;
G1 X40.603 Y9.668 Z0 F1200;
G1 X40.854 Y9.957 Z0 F1200;
G1 X41.142 Y10.226 Z0 F1200;
G1 X41.464 Y10.475 Z0 F1200;
G1 X41.82 Y10.701 Z0 F1200;
G1 X42.204 Y10.902 Z0 F1200;
G1 X42.617 Y11.078 Z0 F1200;
G1 X43.054 Y11.225 Z0 F1200;
G1 X43.513 Y11.343 Z0 F1200;
G1 X43.992 Y11.429 Z0 F1200;
G1 X44.489 Y11.482 Z0 F1200;
G1 X45 Y11.5 Z0 F1200;
G1 X45.511 Y11.482 Z0 F1200;
G1 X46.008 Y11.429 Z0 F1200;
G1 X46.487 Y11.343 Z0 F1200;
G1 X46.946 Y11.225 Z0 F1200;
G1 X47.383 Y11.078 Z0 F1200;
G1 X47.796 Y10.902 Z0 F1200;
G1 X48.18 Y10.701 Z0 F1200;
G1 X48.536 Y10.475 Z0 F1200;
G1 X48.858 Y10.226 Z0 F1200;
G1 X49.146 Y9.957 Z0 F1200;
G1 X49.397 Y9.668 Z0 F1200;
G1 X49.607 Y9.362 Z0 F1200;
G1 X49.775 Y9.041 Z0 F1200;
G1 X49.898 Y8.705 Z0 F1200;
G1 X49.974 Y8.358 Z0 F1200;
G1 X50 Y8 Z0 F1200;
G1 X49.974 Y7.642 Z0 F1200;
G1 X49.898 Y7.295 Z0 F1200;
G1 X49.775 Y6.959 Z0 F1200;
G1 X49.607 Y6.638 Z0 F1200;
G1 X49.397 Y6.332 Z0 F1200;
G1 X49.146 Y6.043 Z0 F1200;
G1 X48.858 Y5.774 Z0 F1200;
G1 X48.536 Y5.525 Z0 F1200;
G1 X48.18 Y5.299 Z0 F1200;
G1 X47.796 Y5.098 Z0 F1200;
G1 X47.383 Y4.922 Z0 F1200;
G1 X46.946 Y4.775 Z0 F1200;
G1 X46.487 Y4.657 Z0 F1200;
G1 X46.008 Y4.571 Z0 F1200;
G1 X45.511 Y4.518 Z0 F1200;
G1 X45 Y4.5 Z0 F1200;
G1 X44.489 Y4.518 Z0 F1200;
G1 X43.992 Y4.571 Z0 F1200;
G1 X43.513 Y4.657 Z0 F1200;
G1 X43.054 Y4.775 Z0 F1200;
G1 X42.617 Y4.922 Z0 F1200;
G1 X42.204 Y5.098 Z0 F1200;
G1 X41.82 Y5.299 Z0 F1200;
G1 X41.464 Y5.525 Z0 F1200;
G1 X41.142 Y5.774 Z0 F1200;
G1 X40.854 Y6.043 Z0 F1200;
G1 X40.603 Y6.332 Z0 F1200;
G1 X40.393 Y6.638 Z0 F1200;
G1 X40.225 Y6.959 Z0 F1200;
G1 Z7 F800;
G1 X34 Y8 Z1 F1200;
G1 X24 Y18 Z8 F500;
G1 F1200;</textarea>
            </div>
          </div>
      </div>
      </details>

      <div class="form-row">
        <div class="form-group">
          <label>Work Area:</label>
          <span style="color:#00e5ff; font-weight:bold; align-self:center;">150mm x 140mm</span>
        </div>
      </div>

      <button onclick="generate()">Generate G-code</button>
      <div id="console" class="console-output"></div>

      <!-- Action Buttons -->
      <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
        <button id="upRunBtn"
          style="background: linear-gradient(90deg, #a855f7, #22c55e); color: white; display: none; flex: 1; margin-top: 0; min-width: 140px;"
          onclick="uploadAndRun()" title="Upload AND Run in one click">ðŸš€ Upload & Run</button>
        <button id="uploadBtn" style="background: #a855f7; color: white; display: none; flex: 1; margin-top: 0;"
          onclick="uploadOnly()" title="Upload the G-code to the controller's SD card">Upload</button>
        <button id="runBtn" style="background: #22c55e; color: white; display: none; flex: 1; margin-top: 0;"
          onclick="runGcodeOnly()" title="Run the last uploaded file on the machine">Run</button>
        <button id="testBtn" style="background: #f97316; color: white; display: none; flex: 1; margin-top: 0;"
          onclick="testWiggle()" title="Move Z axis up/down 3mm to test connection">Test</button>
      </div>
      <div id="status"></div>
    </div>

    <div class="preview-item">
      <h4>Plotter Path Preview</h4>
      <canvas id="canvas"></canvas>
    </div>

    <textarea id="gcodeOutput" readonly placeholder="G-code will appear here..."></textarea>
    <div style="display: flex; gap: 10px; margin-top: 20px;">
      <button id="downloadBtn" style="background: #22c55e; color: white; display: none; flex: 1; margin-top: 0;"
        onclick="downloadGcode()">Download .gcode</button>
      <button id="copyBtn" style="background: #3b82f6; color: white; display: none; flex: 1; margin-top: 0;"
        onclick="copyGcode()">Copy to Clipboard</button>
    </div>
  </div>
  </div>

  <script>
    function setTheme(theme) {
      if (theme === 'ulos') {
        document.body.classList.add('theme-ulos');
        document.querySelector('h2').innerText = "ULOS BATAK ASSEMBLER";
      } else {
        document.body.classList.remove('theme-ulos');
        document.querySelector('h2').innerText = "GORGA BATAK ASSEMBLER";
      }
    }

    // Custom Tooltip Logic
    document.addEventListener('DOMContentLoaded', () => {
      const tooltip = document.createElement('div');
      tooltip.id = 'custom-tooltip';
      document.body.appendChild(tooltip);

      const elementsWithTitle = document.querySelectorAll('[title]');
      elementsWithTitle.forEach(el => {
        el.setAttribute('data-title', el.getAttribute('title'));
        el.removeAttribute('title'); // Disable native tooltip

        el.addEventListener('mouseenter', (e) => {
          tooltip.innerText = el.getAttribute('data-title');
          tooltip.style.display = 'block';
          tooltip.style.left = e.pageX + 15 + 'px';
          tooltip.style.top = e.pageY + 15 + 'px';
        });

        el.addEventListener('mousemove', (e) => {
          tooltip.style.left = e.pageX + 15 + 'px';
          tooltip.style.top = e.pageY + 15 + 'px';
        });

        el.addEventListener('mouseleave', () => {
          tooltip.style.display = 'none';
        });

        // Also show on focus for keyboard accessibility
        el.addEventListener('focus', () => {
          const rect = el.getBoundingClientRect();
          tooltip.innerText = el.getAttribute('data-title');
          tooltip.style.display = 'block';
          tooltip.style.left = (rect.right + window.scrollX + 5) + 'px';
          tooltip.style.top = (rect.top + window.scrollY) + 'px';
        });

        el.addEventListener('blur', () => {
          tooltip.style.display = 'none';
        });
      });
    });

    let glyphs = {
      "\u1bc0": {
        "paths": [
          [
            [
              0.10167,
              -0.21667
            ],
            [
              0.16333,
              -0.14167
            ],
            [
              0.19833,
              -0.10667
            ],
            [
              0.23167,
              -0.08333
            ],
            [
              0.25667,
              -0.07333
            ],
            [
              0.29667,
              -0.06667
            ],
            [
              0.355,
              -0.07
            ],
            [
              0.39667,
              -0.08333
            ],
            [
              0.42333,
              -0.09667
            ],
            [
              0.47,
              -0.12667
            ],
            [
              0.62333,
              -0.26
            ],
            [
              0.67833,
              -0.31167
            ],
            [
              0.71333,
              -0.34
            ],
            [
              0.74833,
              -0.36333
            ],
            [
              0.775,
              -0.375
            ],
            [
              0.815,
              -0.38167
            ],
            [
              0.87333,
              -0.37667
            ],
            [
              0.90667,
              -0.36333
            ],
            [
              0.925,
              -0.35
            ],
            [
              0.95167,
              -0.32167
            ],
            [
              0.97833,
              -0.275
            ],
            [
              0.99167,
              -0.24
            ],
            [
              1.00833,
              -0.17667
            ],
            [
              1.015,
              -0.09333
            ],
            [
              1.00667,
              -0.085
            ],
            [
              0.915,
              -0.07833
            ],
            [
              0.84167,
              -0.06833
            ],
            [
              0.76667,
              -0.055
            ],
            [
              0.69,
              -0.03667
            ],
            [
              0.675,
              -0.03
            ],
            [
              0.67167,
              -0.03167
            ]
          ],
          [
            [
              1.01333,
              -0.09167
            ],
            [
              1.02,
              -0.09
            ],
            [
              1.06833,
              -0.05
            ]
          ]
        ],
        "advance": 1.12599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc1": {
        "paths": [
          [
            [
              0.1,
              -0.21833
            ],
            [
              0.16,
              -0.145
            ],
            [
              0.20167,
              -0.10333
            ],
            [
              0.225,
              -0.08667
            ],
            [
              0.25833,
              -0.07167
            ],
            [
              0.28,
              -0.06833
            ],
            [
              0.33,
              -0.06667
            ],
            [
              0.35667,
              -0.07
            ],
            [
              0.39,
              -0.08
            ],
            [
              0.41833,
              -0.09333
            ],
            [
              0.475,
              -0.13
            ],
            [
              0.67667,
              -0.31
            ],
            [
              0.74,
              -0.35833
            ],
            [
              0.765,
              -0.37167
            ],
            [
              0.78167,
              -0.37667
            ],
            [
              0.83667,
              -0.38167
            ],
            [
              0.87333,
              -0.37667
            ],
            [
              0.90833,
              -0.36167
            ],
            [
              0.94833,
              -0.325
            ],
            [
              0.97833,
              -0.27333
            ],
            [
              1.00667,
              -0.19167
            ],
            [
              1.00667,
              -0.18333
            ]
          ],
          [
            [
              0.81667,
              -0.035
            ],
            [
              0.87833,
              -0.04333
            ],
            [
              0.92,
              -0.045
            ],
            [
              0.98333,
              -0.04333
            ],
            [
              1.03833,
              -0.03667
            ]
          ]
        ],
        "advance": 1.14401,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc2": {
        "paths": [
          [
            [
              0.09167,
              -0.365
            ],
            [
              0.145,
              -0.395
            ],
            [
              0.21333,
              -0.42167
            ],
            [
              0.26833,
              -0.43167
            ],
            [
              0.31,
              -0.435
            ],
            [
              0.39333,
              -0.43167
            ],
            [
              0.46167,
              -0.41667
            ],
            [
              0.51167,
              -0.39333
            ],
            [
              0.52833,
              -0.37
            ],
            [
              0.58833,
              -0.38333
            ],
            [
              0.65667,
              -0.415
            ],
            [
              0.725,
              -0.43167
            ],
            [
              0.81,
              -0.435
            ],
            [
              0.86,
              -0.42667
            ],
            [
              0.88333,
              -0.41667
            ],
            [
              0.91,
              -0.395
            ],
            [
              0.91833,
              -0.38
            ],
            [
              0.92333,
              -0.36
            ],
            [
              0.92333,
              -0.325
            ],
            [
              0.91167,
              -0.27333
            ],
            [
              0.88667,
              -0.22667
            ],
            [
              0.85333,
              -0.18167
            ],
            [
              0.765,
              -0.08667
            ],
            [
              0.72333,
              -0.03167
            ]
          ],
          [
            [
              0.265,
              -0.03167
            ],
            [
              0.265,
              -0.03667
            ],
            [
              0.30833,
              -0.1
            ],
            [
              0.39167,
              -0.20833
            ],
            [
              0.445,
              -0.26667
            ],
            [
              0.485,
              -0.30667
            ],
            [
              0.51167,
              -0.32833
            ],
            [
              0.52833,
              -0.37
            ]
          ]
        ],
        "advance": 1.04,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc3": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.11667,
              -0.28833
            ],
            [
              0.17,
              -0.315
            ],
            [
              0.225,
              -0.33667
            ],
            [
              0.28333,
              -0.355
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.55667,
              -0.38333
            ],
            [
              0.66833,
              -0.375
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.885,
              -0.315
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96333,
              -0.27167
            ]
          ],
          [
            [
              0.315,
              -0.03833
            ],
            [
              0.33167,
              -0.03667
            ],
            [
              0.35,
              -0.04167
            ],
            [
              0.395,
              -0.045
            ],
            [
              0.45667,
              -0.04167
            ],
            [
              0.47333,
              -0.03667
            ],
            [
              0.49167,
              -0.03833
            ]
          ],
          [
            [
              0.76,
              -0.03833
            ],
            [
              0.78,
              -0.03667
            ],
            [
              0.79833,
              -0.04167
            ],
            [
              0.84333,
              -0.045
            ],
            [
              0.90667,
              -0.04167
            ],
            [
              0.92333,
              -0.03667
            ],
            [
              0.95167,
              -0.04
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc4": {
        "paths": [
          [
            [
              0.095,
              -0.35167
            ],
            [
              0.16833,
              -0.38167
            ],
            [
              0.27333,
              -0.41167
            ],
            [
              0.35833,
              -0.42667
            ],
            [
              0.50333,
              -0.43667
            ],
            [
              0.66,
              -0.43333
            ],
            [
              0.76833,
              -0.42167
            ],
            [
              0.86167,
              -0.4
            ],
            [
              0.92167,
              -0.37667
            ],
            [
              0.93333,
              -0.35333
            ],
            [
              0.92167,
              -0.31167
            ],
            [
              0.87333,
              -0.26167
            ],
            [
              0.81333,
              -0.18833
            ],
            [
              0.75833,
              -0.115
            ],
            [
              0.705,
              -0.035
            ],
            [
              0.70667,
              -0.02667
            ]
          ],
          [
            [
              0.29667,
              -0.03167
            ],
            [
              0.30333,
              -0.03333
            ],
            [
              0.32333,
              -0.06667
            ],
            [
              0.39333,
              -0.15833
            ],
            [
              0.45833,
              -0.235
            ],
            [
              0.48333,
              -0.26
            ]
          ]
        ],
        "advance": 1.05799,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc5": {
        "paths": [
          [
            [
              0.515,
              -0.43667
            ],
            [
              0.395,
              -0.42667
            ],
            [
              0.30833,
              -0.40833
            ],
            [
              0.265,
              -0.39333
            ],
            [
              0.22,
              -0.37167
            ],
            [
              0.18833,
              -0.35
            ],
            [
              0.16,
              -0.32333
            ],
            [
              0.14333,
              -0.30167
            ],
            [
              0.12667,
              -0.265
            ],
            [
              0.11833,
              -0.22
            ],
            [
              0.11667,
              -0.18
            ],
            [
              0.12333,
              -0.13833
            ],
            [
              0.13667,
              -0.10333
            ],
            [
              0.15,
              -0.08333
            ],
            [
              0.17,
              -0.06333
            ],
            [
              0.19667,
              -0.04833
            ],
            [
              0.22167,
              -0.04167
            ],
            [
              0.27333,
              -0.03833
            ],
            [
              0.305,
              -0.04333
            ],
            [
              0.35333,
              -0.06333
            ],
            [
              0.50167,
              -0.155
            ],
            [
              0.53833,
              -0.16333
            ],
            [
              0.57333,
              -0.15667
            ],
            [
              0.71833,
              -0.06667
            ],
            [
              0.77333,
              -0.04333
            ],
            [
              0.805,
              -0.03833
            ],
            [
              0.83167,
              -0.03833
            ],
            [
              0.86667,
              -0.04333
            ],
            [
              0.90167,
              -0.05833
            ],
            [
              0.92667,
              -0.08167
            ],
            [
              0.94333,
              -0.10833
            ],
            [
              0.95667,
              -0.14667
            ],
            [
              0.96167,
              -0.18833
            ],
            [
              0.955,
              -0.25
            ],
            [
              0.94333,
              -0.285
            ],
            [
              0.925,
              -0.315
            ],
            [
              0.9,
              -0.34167
            ],
            [
              0.85833,
              -0.37167
            ],
            [
              0.825,
              -0.38833
            ],
            [
              0.73833,
              -0.41667
            ],
            [
              0.64667,
              -0.43167
            ]
          ]
        ],
        "advance": 1.08,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc6": {
        "paths": [
          [
            [
              0.47667,
              -0.43667
            ],
            [
              0.57,
              -0.43333
            ],
            [
              0.66167,
              -0.42
            ],
            [
              0.74333,
              -0.395
            ],
            [
              0.78167,
              -0.37667
            ],
            [
              0.81333,
              -0.355
            ],
            [
              0.85,
              -0.315
            ],
            [
              0.86333,
              -0.285
            ],
            [
              0.87,
              -0.245
            ],
            [
              0.87,
              -0.22167
            ],
            [
              0.86333,
              -0.18333
            ],
            [
              0.85667,
              -0.165
            ],
            [
              0.83833,
              -0.13667
            ],
            [
              0.82167,
              -0.12
            ],
            [
              0.79,
              -0.09667
            ],
            [
              0.73167,
              -0.07
            ],
            [
              0.65833,
              -0.05
            ],
            [
              0.62,
              -0.04333
            ],
            [
              0.54333,
              -0.03667
            ],
            [
              0.41333,
              -0.03833
            ],
            [
              0.32167,
              -0.05167
            ],
            [
              0.28167,
              -0.06167
            ],
            [
              0.22333,
              -0.08333
            ],
            [
              0.175,
              -0.11333
            ],
            [
              0.145,
              -0.14333
            ],
            [
              0.135,
              -0.15833
            ],
            [
              0.12333,
              -0.18667
            ],
            [
              0.11667,
              -0.23833
            ],
            [
              0.12333,
              -0.28
            ],
            [
              0.13167,
              -0.30333
            ],
            [
              0.145,
              -0.325
            ],
            [
              0.18833,
              -0.365
            ],
            [
              0.25333,
              -0.39833
            ],
            [
              0.3,
              -0.41333
            ],
            [
              0.36333,
              -0.42667
            ]
          ]
        ],
        "advance": 0.99,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc7": {
        "paths": [
          [
            [
              0.105,
              -0.35667
            ],
            [
              0.14,
              -0.365
            ],
            [
              0.21667,
              -0.375
            ],
            [
              0.34,
              -0.38333
            ],
            [
              0.59,
              -0.38167
            ],
            [
              0.69,
              -0.375
            ],
            [
              0.72667,
              -0.36833
            ],
            [
              0.73333,
              -0.37
            ]
          ]
        ],
        "advance": 0.84,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc8": {
        "paths": [
          [
            [
              0.10167,
              -0.26
            ],
            [
              0.11,
              -0.245
            ],
            [
              0.14167,
              -0.21333
            ],
            [
              0.16667,
              -0.195
            ],
            [
              0.19,
              -0.18333
            ],
            [
              0.225,
              -0.17333
            ],
            [
              0.29,
              -0.16833
            ],
            [
              0.34667,
              -0.175
            ],
            [
              0.38833,
              -0.18667
            ],
            [
              0.435,
              -0.205
            ],
            [
              0.52,
              -0.245
            ],
            [
              0.58333,
              -0.26667
            ],
            [
              0.63833,
              -0.275
            ],
            [
              0.68333,
              -0.275
            ],
            [
              0.72167,
              -0.27
            ],
            [
              0.76667,
              -0.25333
            ],
            [
              0.8,
              -0.23
            ],
            [
              0.83833,
              -0.19
            ],
            [
              0.84,
              -0.18333
            ]
          ]
        ],
        "advance": 0.94299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bc9": {
        "paths": [
          [
            [
              0.10333,
              -0.49
            ],
            [
              0.10667,
              -0.48833
            ],
            [
              0.135,
              -0.495
            ],
            [
              0.195,
              -0.50167
            ],
            [
              0.275,
              -0.50667
            ],
            [
              0.43167,
              -0.50833
            ],
            [
              0.555,
              -0.50333
            ],
            [
              0.62,
              -0.49667
            ],
            [
              0.66667,
              -0.48833
            ]
          ],
          [
            [
              0.565,
              -0.33833
            ],
            [
              0.48,
              -0.33167
            ],
            [
              0.40333,
              -0.315
            ],
            [
              0.35,
              -0.29333
            ],
            [
              0.32167,
              -0.27333
            ],
            [
              0.30333,
              -0.255
            ],
            [
              0.29,
              -0.23
            ],
            [
              0.28167,
              -0.185
            ],
            [
              0.29167,
              -0.135
            ],
            [
              0.30167,
              -0.11667
            ],
            [
              0.32333,
              -0.095
            ],
            [
              0.34333,
              -0.08167
            ],
            [
              0.37833,
              -0.065
            ],
            [
              0.445,
              -0.04667
            ],
            [
              0.50667,
              -0.03833
            ],
            [
              0.615,
              -0.03667
            ],
            [
              0.69667,
              -0.045
            ],
            [
              0.75333,
              -0.05833
            ],
            [
              0.79333,
              -0.07333
            ],
            [
              0.82667,
              -0.09333
            ],
            [
              0.84,
              -0.105
            ],
            [
              0.86,
              -0.135
            ],
            [
              0.86667,
              -0.16
            ],
            [
              0.87,
              -0.19167
            ],
            [
              0.86333,
              -0.22667
            ],
            [
              0.85333,
              -0.25
            ],
            [
              0.82667,
              -0.27833
            ],
            [
              0.81,
              -0.29
            ],
            [
              0.775,
              -0.30667
            ],
            [
              0.71167,
              -0.325
            ],
            [
              0.64833,
              -0.335
            ]
          ]
        ],
        "advance": 0.99,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bca": {
        "paths": [
          [
            [
              0.105,
              -0.595
            ],
            [
              0.17167,
              -0.605
            ],
            [
              0.31,
              -0.61167
            ],
            [
              0.39333,
              -0.61167
            ],
            [
              0.53667,
              -0.60333
            ],
            [
              0.55833,
              -0.59833
            ],
            [
              0.57333,
              -0.6
            ]
          ],
          [
            [
              0.165,
              -0.425
            ],
            [
              0.29,
              -0.39333
            ],
            [
              0.37,
              -0.36667
            ],
            [
              0.385,
              -0.35833
            ],
            [
              0.39833,
              -0.33333
            ],
            [
              0.38167,
              -0.3
            ],
            [
              0.33833,
              -0.27
            ],
            [
              0.295,
              -0.23167
            ],
            [
              0.27167,
              -0.20333
            ],
            [
              0.25833,
              -0.17667
            ],
            [
              0.25,
              -0.13667
            ],
            [
              0.25,
              -0.12167
            ],
            [
              0.255,
              -0.09667
            ],
            [
              0.26167,
              -0.08167
            ],
            [
              0.27833,
              -0.065
            ],
            [
              0.29,
              -0.05833
            ],
            [
              0.32333,
              -0.04667
            ],
            [
              0.39833,
              -0.03667
            ],
            [
              0.485,
              -0.03667
            ],
            [
              0.53667,
              -0.04167
            ],
            [
              0.58833,
              -0.055
            ],
            [
              0.61167,
              -0.06667
            ],
            [
              0.63167,
              -0.08833
            ],
            [
              0.63833,
              -0.115
            ],
            [
              0.64,
              -0.13667
            ],
            [
              0.63167,
              -0.18
            ],
            [
              0.62,
              -0.20333
            ],
            [
              0.57333,
              -0.25333
            ],
            [
              0.53167,
              -0.285
            ],
            [
              0.50667,
              -0.3
            ],
            [
              0.49333,
              -0.33167
            ]
          ],
          [
            [
              0.39667,
              -0.335
            ],
            [
              0.49333,
              -0.335
            ],
            [
              0.49333,
              -0.33167
            ],
            [
              0.50833,
              -0.36167
            ],
            [
              0.62,
              -0.4
            ],
            [
              0.67167,
              -0.41333
            ],
            [
              0.75333,
              -0.42833
            ],
            [
              0.83667,
              -0.43667
            ],
            [
              0.85167,
              -0.435
            ]
          ]
        ],
        "advance": 0.95599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bcb": {
        "paths": [
          [
            [
              0.32167,
              -0.03333
            ],
            [
              0.22667,
              -0.04
            ],
            [
              0.18667,
              -0.04833
            ],
            [
              0.15333,
              -0.06333
            ],
            [
              0.13333,
              -0.08333
            ],
            [
              0.12333,
              -0.105
            ],
            [
              0.11667,
              -0.14667
            ],
            [
              0.12167,
              -0.20333
            ],
            [
              0.13167,
              -0.23833
            ],
            [
              0.14833,
              -0.27167
            ],
            [
              0.17667,
              -0.31
            ],
            [
              0.205,
              -0.33833
            ],
            [
              0.25667,
              -0.37667
            ],
            [
              0.30333,
              -0.4
            ],
            [
              0.36167,
              -0.42
            ],
            [
              0.43333,
              -0.43333
            ],
            [
              0.49,
              -0.43667
            ],
            [
              0.545,
              -0.435
            ],
            [
              0.60167,
              -0.42833
            ],
            [
              0.645,
              -0.41833
            ],
            [
              0.70833,
              -0.395
            ],
            [
              0.74833,
              -0.37333
            ],
            [
              0.78333,
              -0.34833
            ],
            [
              0.82833,
              -0.30333
            ],
            [
              0.85833,
              -0.25667
            ],
            [
              0.87333,
              -0.215
            ],
            [
              0.88167,
              -0.155
            ],
            [
              0.87333,
              -0.10167
            ],
            [
              0.86167,
              -0.07833
            ],
            [
              0.845,
              -0.06333
            ],
            [
              0.81167,
              -0.04833
            ],
            [
              0.77167,
              -0.04
            ],
            [
              0.68333,
              -0.03333
            ]
          ]
        ],
        "advance": 1.0,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bcc": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.11667,
              -0.28833
            ],
            [
              0.17,
              -0.315
            ],
            [
              0.225,
              -0.33667
            ],
            [
              0.28333,
              -0.355
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.55667,
              -0.38333
            ],
            [
              0.66833,
              -0.375
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.885,
              -0.315
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96333,
              -0.27167
            ]
          ],
          [
            [
              0.11833,
              -0.03667
            ],
            [
              0.2,
              -0.045
            ],
            [
              0.265,
              -0.04167
            ],
            [
              0.28167,
              -0.03667
            ],
            [
              0.295,
              -0.03833
            ]
          ],
          [
            [
              0.77,
              -0.03833
            ],
            [
              0.79,
              -0.03667
            ],
            [
              0.80833,
              -0.04167
            ],
            [
              0.85333,
              -0.045
            ],
            [
              0.91667,
              -0.04167
            ],
            [
              0.93333,
              -0.03667
            ],
            [
              0.94667,
              -0.03833
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bcd": {
        "paths": [
          [
            [
              0.565,
              -0.40667
            ],
            [
              0.55833,
              -0.40667
            ],
            [
              0.54833,
              -0.425
            ],
            [
              0.505,
              -0.43167
            ],
            [
              0.42,
              -0.43667
            ],
            [
              0.20167,
              -0.43333
            ],
            [
              0.13,
              -0.42667
            ],
            [
              0.11667,
              -0.42
            ],
            [
              0.11167,
              -0.405
            ],
            [
              0.11833,
              -0.34167
            ],
            [
              0.135,
              -0.30167
            ],
            [
              0.15167,
              -0.27667
            ],
            [
              0.185,
              -0.24333
            ],
            [
              0.21833,
              -0.22167
            ],
            [
              0.25167,
              -0.20667
            ],
            [
              0.315,
              -0.18833
            ],
            [
              0.53167,
              -0.15167
            ],
            [
              0.57167,
              -0.14167
            ],
            [
              0.59667,
              -0.13167
            ],
            [
              0.63667,
              -0.10833
            ],
            [
              0.655,
              -0.09
            ],
            [
              0.665,
              -0.07667
            ],
            [
              0.685,
              -0.03667
            ],
            [
              0.685,
              -0.03167
            ]
          ],
          [
            [
              0.52,
              -0.335
            ],
            [
              0.54167,
              -0.35333
            ],
            [
              0.56,
              -0.405
            ]
          ]
        ],
        "advance": 0.78799,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bce": {
        "paths": [
          [
            [
              0.09333,
              -0.29
            ],
            [
              0.11167,
              -0.30167
            ],
            [
              0.15333,
              -0.32
            ],
            [
              0.25333,
              -0.355
            ],
            [
              0.34167,
              -0.375
            ],
            [
              0.44167,
              -0.38333
            ],
            [
              0.55167,
              -0.38167
            ],
            [
              0.65167,
              -0.37
            ],
            [
              0.72,
              -0.35333
            ],
            [
              0.76,
              -0.34
            ],
            [
              0.78833,
              -0.32667
            ],
            [
              0.79833,
              -0.30333
            ],
            [
              0.815,
              -0.305
            ]
          ],
          [
            [
              0.64833,
              -0.13
            ],
            [
              0.64833,
              -0.13333
            ],
            [
              0.70333,
              -0.19333
            ],
            [
              0.78167,
              -0.26
            ],
            [
              0.79833,
              -0.305
            ]
          ]
        ],
        "advance": 0.94099,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bcf": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.11667,
              -0.28833
            ],
            [
              0.17,
              -0.315
            ],
            [
              0.225,
              -0.33667
            ],
            [
              0.28333,
              -0.355
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.55667,
              -0.38333
            ],
            [
              0.66833,
              -0.375
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.885,
              -0.315
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96333,
              -0.27167
            ]
          ],
          [
            [
              0.76,
              -0.03833
            ],
            [
              0.78,
              -0.03667
            ],
            [
              0.79833,
              -0.04167
            ],
            [
              0.84333,
              -0.045
            ],
            [
              0.90667,
              -0.04167
            ],
            [
              0.92333,
              -0.03667
            ],
            [
              0.95167,
              -0.04
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd0": {
        "paths": [
          [
            [
              0.10833,
              -0.29667
            ],
            [
              0.15833,
              -0.32
            ],
            [
              0.2,
              -0.335
            ],
            [
              0.34333,
              -0.37667
            ],
            [
              0.51167,
              -0.41333
            ],
            [
              0.665,
              -0.43667
            ],
            [
              0.67833,
              -0.435
            ]
          ],
          [
            [
              0.315,
              -0.2
            ],
            [
              0.33167,
              -0.2
            ],
            [
              0.52333,
              -0.125
            ],
            [
              0.65833,
              -0.06167
            ],
            [
              0.69833,
              -0.03667
            ]
          ],
          [
            [
              0.62667,
              -0.26
            ],
            [
              0.63333,
              -0.25833
            ],
            [
              0.67833,
              -0.26667
            ],
            [
              0.74667,
              -0.27
            ],
            [
              0.835,
              -0.26833
            ],
            [
              0.91333,
              -0.26
            ]
          ]
        ],
        "advance": 1.02299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd1": {
        "paths": [
          [
            [
              0.10833,
              -0.29667
            ],
            [
              0.15833,
              -0.32
            ],
            [
              0.2,
              -0.335
            ],
            [
              0.34333,
              -0.37667
            ],
            [
              0.51167,
              -0.41333
            ],
            [
              0.665,
              -0.43667
            ],
            [
              0.67833,
              -0.435
            ]
          ],
          [
            [
              0.32667,
              -0.2
            ],
            [
              0.455,
              -0.15333
            ],
            [
              0.55833,
              -0.11
            ],
            [
              0.65833,
              -0.06167
            ],
            [
              0.69833,
              -0.03667
            ]
          ]
        ],
        "advance": 0.81099,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd2": {
        "paths": [
          [
            [
              0.11,
              -0.38333
            ],
            [
              0.13167,
              -0.39333
            ],
            [
              0.17833,
              -0.40667
            ],
            [
              0.25,
              -0.42
            ],
            [
              0.33,
              -0.43
            ],
            [
              0.44833,
              -0.43667
            ],
            [
              0.55333,
              -0.43667
            ],
            [
              0.67833,
              -0.43
            ],
            [
              0.75667,
              -0.42167
            ],
            [
              0.81,
              -0.41167
            ],
            [
              0.83667,
              -0.40167
            ],
            [
              0.84333,
              -0.40333
            ]
          ],
          [
            [
              0.11167,
              -0.19667
            ],
            [
              0.18,
              -0.22
            ],
            [
              0.25333,
              -0.235
            ],
            [
              0.34833,
              -0.24833
            ],
            [
              0.455,
              -0.255
            ],
            [
              0.63167,
              -0.25167
            ],
            [
              0.73667,
              -0.24167
            ],
            [
              0.79667,
              -0.22833
            ],
            [
              0.81,
              -0.205
            ],
            [
              0.835,
              -0.205
            ]
          ],
          [
            [
              0.65833,
              -0.03333
            ],
            [
              0.725,
              -0.105
            ],
            [
              0.79167,
              -0.16
            ],
            [
              0.80833,
              -0.20333
            ]
          ]
        ],
        "advance": 0.95299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd3": {
        "paths": [
          [
            [
              0.09833,
              -0.375
            ],
            [
              0.23333,
              -0.38333
            ],
            [
              0.4,
              -0.38333
            ],
            [
              0.48,
              -0.38
            ],
            [
              0.545,
              -0.37333
            ]
          ],
          [
            [
              0.24833,
              -0.20333
            ],
            [
              0.31167,
              -0.21
            ],
            [
              0.51167,
              -0.21833
            ],
            [
              0.66167,
              -0.21667
            ],
            [
              0.88167,
              -0.205
            ]
          ],
          [
            [
              0.705,
              -0.03833
            ],
            [
              0.725,
              -0.03667
            ],
            [
              0.74333,
              -0.04167
            ],
            [
              0.78833,
              -0.045
            ],
            [
              0.85167,
              -0.04167
            ],
            [
              0.86833,
              -0.03667
            ],
            [
              0.88167,
              -0.03833
            ]
          ]
        ],
        "advance": 0.98599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd4": {
        "paths": [
          [
            [
              0.085,
              -0.36833
            ],
            [
              0.17,
              -0.37667
            ],
            [
              0.21,
              -0.37833
            ],
            [
              0.21167,
              -0.375
            ],
            [
              0.21667,
              -0.38
            ],
            [
              0.28667,
              -0.38333
            ],
            [
              0.375,
              -0.38333
            ],
            [
              0.465,
              -0.37833
            ],
            [
              0.52,
              -0.37
            ],
            [
              0.53,
              -0.37167
            ]
          ],
          [
            [
              0.21167,
              -0.37667
            ],
            [
              0.215,
              -0.28333
            ],
            [
              0.23167,
              -0.19167
            ],
            [
              0.25167,
              -0.14
            ],
            [
              0.26667,
              -0.11333
            ],
            [
              0.28,
              -0.095
            ],
            [
              0.31167,
              -0.065
            ],
            [
              0.34167,
              -0.04833
            ],
            [
              0.365,
              -0.04167
            ],
            [
              0.40167,
              -0.03667
            ],
            [
              0.44167,
              -0.04167
            ],
            [
              0.47,
              -0.05
            ],
            [
              0.49833,
              -0.065
            ],
            [
              0.53,
              -0.09
            ],
            [
              0.56667,
              -0.10167
            ],
            [
              0.57833,
              -0.10833
            ]
          ],
          [
            [
              0.94333,
              -0.38667
            ],
            [
              0.87333,
              -0.37667
            ],
            [
              0.82,
              -0.36167
            ],
            [
              0.765,
              -0.33667
            ],
            [
              0.72,
              -0.30667
            ],
            [
              0.66833,
              -0.25833
            ],
            [
              0.59333,
              -0.165
            ],
            [
              0.57833,
              -0.10667
            ],
            [
              0.58833,
              -0.09667
            ],
            [
              0.64667,
              -0.07833
            ],
            [
              0.78667,
              -0.04167
            ],
            [
              0.91667,
              -0.01833
            ],
            [
              0.94,
              -0.02167
            ],
            [
              0.94833,
              -0.02
            ]
          ]
        ],
        "advance": 1.05401,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd5": {
        "paths": [
          [
            [
              0.10333,
              -0.34333
            ],
            [
              0.15,
              -0.37667
            ],
            [
              0.18,
              -0.39167
            ],
            [
              0.245,
              -0.415
            ],
            [
              0.29667,
              -0.42667
            ],
            [
              0.405,
              -0.43667
            ],
            [
              0.495,
              -0.43333
            ],
            [
              0.53167,
              -0.42667
            ],
            [
              0.54833,
              -0.42833
            ]
          ],
          [
            [
              0.425,
              -0.17
            ],
            [
              0.49667,
              -0.22167
            ],
            [
              0.59667,
              -0.285
            ],
            [
              0.735,
              -0.35833
            ],
            [
              0.85667,
              -0.40833
            ],
            [
              0.965,
              -0.44167
            ],
            [
              0.98,
              -0.44167
            ]
          ],
          [
            [
              0.68833,
              -0.165
            ],
            [
              0.83,
              -0.10833
            ],
            [
              0.90833,
              -0.07167
            ],
            [
              0.97167,
              -0.035
            ],
            [
              0.98,
              -0.035
            ]
          ]
        ],
        "advance": 1.08799,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd6": {
        "paths": [
          [
            [
              0.11667,
              -0.02833
            ],
            [
              0.22167,
              -0.10333
            ],
            [
              0.30667,
              -0.15667
            ],
            [
              0.31833,
              -0.18167
            ],
            [
              0.32667,
              -0.19
            ],
            [
              0.31833,
              -0.19833
            ],
            [
              0.31167,
              -0.21667
            ],
            [
              0.305,
              -0.225
            ],
            [
              0.20833,
              -0.29167
            ],
            [
              0.15167,
              -0.34
            ],
            [
              0.14,
              -0.37833
            ],
            [
              0.125,
              -0.38333
            ],
            [
              0.13333,
              -0.38333
            ],
            [
              0.13833,
              -0.38
            ],
            [
              0.13833,
              -0.38333
            ],
            [
              0.13667,
              -0.38167
            ],
            [
              0.15,
              -0.405
            ],
            [
              0.205,
              -0.42
            ],
            [
              0.26833,
              -0.43
            ],
            [
              0.37667,
              -0.43667
            ],
            [
              0.45,
              -0.435
            ],
            [
              0.535,
              -0.42833
            ],
            [
              0.59667,
              -0.41833
            ],
            [
              0.64333,
              -0.405
            ],
            [
              0.65333,
              -0.38833
            ],
            [
              0.655,
              -0.38
            ],
            [
              0.67167,
              -0.38
            ]
          ],
          [
            [
              0.32667,
              -0.19
            ],
            [
              0.39333,
              -0.19
            ],
            [
              0.40167,
              -0.18167
            ],
            [
              0.41,
              -0.16167
            ],
            [
              0.42,
              -0.15333
            ],
            [
              0.55,
              -0.085
            ],
            [
              0.64167,
              -0.04333
            ]
          ],
          [
            [
              0.395,
              -0.19167
            ],
            [
              0.40167,
              -0.19833
            ],
            [
              0.415,
              -0.22333
            ],
            [
              0.52833,
              -0.28667
            ],
            [
              0.635,
              -0.34
            ],
            [
              0.655,
              -0.38
            ]
          ]
        ],
        "advance": 0.79701,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd7": {
        "paths": [
          [
            [
              0.09833,
              -0.37667
            ],
            [
              0.19333,
              -0.38333
            ],
            [
              0.33,
              -0.38333
            ],
            [
              0.385,
              -0.375
            ]
          ],
          [
            [
              0.19667,
              -0.38333
            ],
            [
              0.2,
              -0.30167
            ],
            [
              0.20667,
              -0.24167
            ],
            [
              0.21833,
              -0.19
            ],
            [
              0.24,
              -0.135
            ],
            [
              0.26333,
              -0.09833
            ],
            [
              0.29833,
              -0.065
            ],
            [
              0.32833,
              -0.04833
            ],
            [
              0.375,
              -0.03833
            ],
            [
              0.40333,
              -0.03833
            ],
            [
              0.43667,
              -0.04333
            ],
            [
              0.47,
              -0.05667
            ],
            [
              0.50667,
              -0.08167
            ],
            [
              0.545,
              -0.12
            ],
            [
              0.65167,
              -0.255
            ],
            [
              0.67833,
              -0.28
            ],
            [
              0.70667,
              -0.3
            ],
            [
              0.73333,
              -0.31167
            ],
            [
              0.78333,
              -0.32
            ],
            [
              0.83833,
              -0.315
            ],
            [
              0.875,
              -0.3
            ],
            [
              0.915,
              -0.26667
            ],
            [
              0.93167,
              -0.245
            ],
            [
              0.95,
              -0.205
            ],
            [
              0.95833,
              -0.15833
            ],
            [
              0.95833,
              -0.12833
            ],
            [
              0.95167,
              -0.09333
            ],
            [
              0.93667,
              -0.06833
            ],
            [
              0.92333,
              -0.05833
            ],
            [
              0.9,
              -0.04833
            ],
            [
              0.84167,
              -0.03833
            ],
            [
              0.76167,
              -0.03333
            ],
            [
              0.75167,
              -0.035
            ]
          ]
        ],
        "advance": 1.07299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd8": {
        "paths": [
          [
            [
              0.09333,
              -0.46833
            ],
            [
              0.155,
              -0.46833
            ],
            [
              0.23,
              -0.46
            ],
            [
              0.295,
              -0.44833
            ],
            [
              0.35333,
              -0.43333
            ],
            [
              0.41167,
              -0.415
            ],
            [
              0.47167,
              -0.39167
            ],
            [
              0.48833,
              -0.36
            ],
            [
              0.58,
              -0.37333
            ],
            [
              0.64833,
              -0.4
            ],
            [
              0.74667,
              -0.42667
            ],
            [
              0.825,
              -0.43833
            ],
            [
              0.83167,
              -0.44167
            ],
            [
              0.83667,
              -0.44
            ],
            [
              0.87333,
              -0.445
            ]
          ],
          [
            [
              0.23667,
              -0.13167
            ],
            [
              0.24833,
              -0.13333
            ]
          ],
          [
            [
              0.48667,
              -0.03
            ],
            [
              0.48,
              -0.02833
            ],
            [
              0.45333,
              -0.04167
            ],
            [
              0.25833,
              -0.11333
            ],
            [
              0.24833,
              -0.135
            ],
            [
              0.26167,
              -0.175
            ],
            [
              0.28667,
              -0.20167
            ],
            [
              0.32667,
              -0.235
            ],
            [
              0.38667,
              -0.27667
            ],
            [
              0.46667,
              -0.32167
            ],
            [
              0.47333,
              -0.32833
            ],
            [
              0.48833,
              -0.35833
            ]
          ]
        ],
        "advance": 0.96,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bd9": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.11667,
              -0.28833
            ],
            [
              0.17,
              -0.315
            ],
            [
              0.225,
              -0.33667
            ],
            [
              0.28333,
              -0.355
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.55667,
              -0.38333
            ],
            [
              0.66833,
              -0.375
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.885,
              -0.315
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96333,
              -0.27167
            ]
          ],
          [
            [
              0.43333,
              -0.03667
            ],
            [
              0.515,
              -0.045
            ],
            [
              0.56333,
              -0.04333
            ],
            [
              0.59667,
              -0.03667
            ],
            [
              0.61333,
              -0.03833
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bda": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.145,
              -0.30333
            ],
            [
              0.235,
              -0.34
            ],
            [
              0.31,
              -0.35
            ],
            [
              0.33,
              -0.34667
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.49833,
              -0.38333
            ],
            [
              0.62333,
              -0.38
            ],
            [
              0.7,
              -0.37
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.87333,
              -0.32
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96,
              -0.27333
            ]
          ],
          [
            [
              0.33,
              -0.34833
            ],
            [
              0.32833,
              -0.34667
            ],
            [
              0.34667,
              -0.29333
            ],
            [
              0.45333,
              -0.17333
            ],
            [
              0.515,
              -0.09333
            ],
            [
              0.55833,
              -0.03
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bdb": {
        "paths": [
          [
            [
              0.09833,
              -0.37667
            ],
            [
              0.19333,
              -0.38333
            ],
            [
              0.32167,
              -0.38333
            ],
            [
              0.39167,
              -0.37667
            ]
          ],
          [
            [
              0.19667,
              -0.38333
            ],
            [
              0.2,
              -0.30167
            ],
            [
              0.20667,
              -0.24167
            ],
            [
              0.21833,
              -0.19
            ],
            [
              0.23333,
              -0.15
            ],
            [
              0.25833,
              -0.105
            ],
            [
              0.29333,
              -0.06833
            ],
            [
              0.32,
              -0.05167
            ],
            [
              0.34333,
              -0.04333
            ],
            [
              0.375,
              -0.03833
            ],
            [
              0.41667,
              -0.04
            ],
            [
              0.44667,
              -0.04667
            ],
            [
              0.48167,
              -0.06333
            ],
            [
              0.50833,
              -0.08333
            ],
            [
              0.54333,
              -0.11833
            ],
            [
              0.62167,
              -0.22
            ],
            [
              0.67,
              -0.27333
            ],
            [
              0.69333,
              -0.29167
            ],
            [
              0.71667,
              -0.305
            ],
            [
              0.73333,
              -0.31167
            ],
            [
              0.76833,
              -0.31833
            ],
            [
              0.80167,
              -0.32
            ],
            [
              0.83833,
              -0.315
            ],
            [
              0.85833,
              -0.30833
            ],
            [
              0.88667,
              -0.29167
            ],
            [
              0.91,
              -0.26833
            ],
            [
              0.93333,
              -0.23333
            ],
            [
              0.95167,
              -0.19333
            ],
            [
              0.97333,
              -0.13
            ]
          ]
        ],
        "advance": 1.07,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bdc": {
        "paths": [
          [
            [
              0.09833,
              -0.37667
            ],
            [
              0.16667,
              -0.38333
            ],
            [
              0.32167,
              -0.38333
            ],
            [
              0.39167,
              -0.37667
            ]
          ],
          [
            [
              0.205,
              -0.24
            ],
            [
              0.205,
              -0.23
            ],
            [
              0.22833,
              -0.16167
            ],
            [
              0.24833,
              -0.12
            ],
            [
              0.265,
              -0.095
            ],
            [
              0.285,
              -0.07333
            ],
            [
              0.30667,
              -0.05667
            ],
            [
              0.32667,
              -0.04667
            ],
            [
              0.35667,
              -0.04
            ],
            [
              0.38833,
              -0.03667
            ],
            [
              0.435,
              -0.04333
            ],
            [
              0.46667,
              -0.055
            ],
            [
              0.48667,
              -0.06667
            ],
            [
              0.50833,
              -0.08333
            ],
            [
              0.54333,
              -0.11833
            ],
            [
              0.62167,
              -0.22
            ],
            [
              0.67,
              -0.27333
            ],
            [
              0.70333,
              -0.29833
            ],
            [
              0.73333,
              -0.31167
            ],
            [
              0.75667,
              -0.31667
            ],
            [
              0.80167,
              -0.32
            ],
            [
              0.83833,
              -0.315
            ],
            [
              0.85833,
              -0.30833
            ],
            [
              0.88667,
              -0.29167
            ],
            [
              0.91,
              -0.26833
            ],
            [
              0.93333,
              -0.23333
            ],
            [
              0.95167,
              -0.19333
            ],
            [
              0.97333,
              -0.13
            ]
          ]
        ],
        "advance": 1.07,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bdd": {
        "paths": [
          [
            [
              0.09667,
              -0.23833
            ],
            [
              0.155,
              -0.235
            ]
          ],
          [
            [
              0.655,
              -0.435
            ],
            [
              0.645,
              -0.435
            ],
            [
              0.45833,
              -0.38167
            ],
            [
              0.27167,
              -0.315
            ],
            [
              0.17333,
              -0.27167
            ],
            [
              0.15333,
              -0.23667
            ],
            [
              0.175,
              -0.19833
            ],
            [
              0.26,
              -0.16167
            ],
            [
              0.36833,
              -0.12
            ],
            [
              0.47167,
              -0.08667
            ],
            [
              0.655,
              -0.035
            ]
          ]
        ],
        "advance": 0.75599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bde": {
        "paths": [
          [
            [
              0.11667,
              -0.28167
            ],
            [
              0.13,
              -0.28167
            ],
            [
              0.13,
              -0.27833
            ],
            [
              0.12833,
              -0.28
            ],
            [
              0.13833,
              -0.30167
            ],
            [
              0.16333,
              -0.31833
            ],
            [
              0.205,
              -0.33833
            ],
            [
              0.255,
              -0.35667
            ],
            [
              0.33833,
              -0.375
            ],
            [
              0.43833,
              -0.38333
            ],
            [
              0.555,
              -0.38
            ],
            [
              0.66667,
              -0.36167
            ],
            [
              0.71667,
              -0.34833
            ],
            [
              0.77167,
              -0.32833
            ],
            [
              0.815,
              -0.30667
            ],
            [
              0.84167,
              -0.28833
            ]
          ],
          [
            [
              0.13,
              -0.27833
            ],
            [
              0.14333,
              -0.23833
            ],
            [
              0.215,
              -0.17833
            ],
            [
              0.27,
              -0.12333
            ],
            [
              0.29333,
              -0.095
            ]
          ]
        ],
        "advance": 0.93099,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bdf": {
        "paths": [
          [
            [
              0.095,
              -0.27333
            ],
            [
              0.11667,
              -0.28833
            ],
            [
              0.17,
              -0.315
            ],
            [
              0.225,
              -0.33667
            ],
            [
              0.28333,
              -0.355
            ],
            [
              0.345,
              -0.36833
            ],
            [
              0.43167,
              -0.38
            ],
            [
              0.55667,
              -0.38333
            ],
            [
              0.66833,
              -0.375
            ],
            [
              0.79,
              -0.35
            ],
            [
              0.885,
              -0.315
            ],
            [
              0.93833,
              -0.28833
            ],
            [
              0.96333,
              -0.27167
            ]
          ],
          [
            [
              0.10667,
              -0.035
            ],
            [
              0.19333,
              -0.045
            ],
            [
              0.255,
              -0.04167
            ],
            [
              0.27167,
              -0.03667
            ],
            [
              0.285,
              -0.03833
            ]
          ]
        ],
        "advance": 1.05599,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be0": {
        "paths": [
          [
            [
              0.12167,
              -0.14167
            ],
            [
              0.13667,
              -0.18167
            ],
            [
              0.18833,
              -0.22
            ],
            [
              0.28167,
              -0.27333
            ],
            [
              0.38833,
              -0.31667
            ],
            [
              0.51333,
              -0.35167
            ],
            [
              0.59333,
              -0.36667
            ],
            [
              0.65167,
              -0.375
            ],
            [
              0.76833,
              -0.385
            ],
            [
              0.82333,
              -0.38167
            ]
          ],
          [
            [
              0.12333,
              -0.14333
            ],
            [
              0.13667,
              -0.11833
            ],
            [
              0.16167,
              -0.11167
            ],
            [
              0.25333,
              -0.07667
            ],
            [
              0.305,
              -0.05167
            ],
            [
              0.33667,
              -0.03167
            ]
          ],
          [
            [
              0.43833,
              -0.2
            ],
            [
              0.45167,
              -0.19833
            ],
            [
              0.53667,
              -0.155
            ],
            [
              0.57333,
              -0.13167
            ],
            [
              0.6,
              -0.11
            ]
          ]
        ],
        "advance": 0.91701,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be1": {
        "paths": [
          [
            [
              0.45,
              -0.24833
            ],
            [
              0.43333,
              -0.16833
            ],
            [
              0.385,
              -0.095
            ],
            [
              0.36333,
              -0.07167
            ],
            [
              0.34333,
              -0.05667
            ],
            [
              0.31667,
              -0.045
            ],
            [
              0.27833,
              -0.03833
            ],
            [
              0.22833,
              -0.04167
            ],
            [
              0.20333,
              -0.05
            ],
            [
              0.185,
              -0.06
            ],
            [
              0.14833,
              -0.095
            ],
            [
              0.12833,
              -0.13
            ],
            [
              0.12,
              -0.15667
            ],
            [
              0.11333,
              -0.215
            ],
            [
              0.12,
              -0.26333
            ],
            [
              0.12667,
              -0.285
            ],
            [
              0.13667,
              -0.30667
            ],
            [
              0.16167,
              -0.34
            ],
            [
              0.18667,
              -0.36
            ],
            [
              0.20667,
              -0.37
            ],
            [
              0.23333,
              -0.37833
            ],
            [
              0.285,
              -0.38333
            ],
            [
              0.31833,
              -0.37833
            ],
            [
              0.34833,
              -0.36667
            ],
            [
              0.37167,
              -0.35
            ],
            [
              0.39667,
              -0.325
            ],
            [
              0.415,
              -0.29833
            ],
            [
              0.43,
              -0.26333
            ],
            [
              0.45,
              -0.24833
            ],
            [
              0.49667,
              -0.26667
            ],
            [
              0.52,
              -0.29
            ],
            [
              0.53667,
              -0.3
            ],
            [
              0.57167,
              -0.30833
            ],
            [
              0.61167,
              -0.30167
            ],
            [
              0.63,
              -0.29167
            ],
            [
              0.65,
              -0.27
            ],
            [
              0.69833,
              -0.19333
            ],
            [
              0.72667,
              -0.16333
            ],
            [
              0.74667,
              -0.15333
            ],
            [
              0.78,
              -0.14667
            ],
            [
              0.83,
              -0.15333
            ],
            [
              0.84833,
              -0.16167
            ],
            [
              0.86833,
              -0.17833
            ],
            [
              0.88,
              -0.19333
            ],
            [
              0.90333,
              -0.235
            ],
            [
              0.92167,
              -0.29
            ]
          ]
        ],
        "advance": 1.01701,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be2": {
        "paths": [
          [
            [
              0.09833,
              -0.03
            ],
            [
              0.10833,
              -0.03167
            ],
            [
              0.14833,
              -0.05667
            ],
            [
              0.205,
              -0.085
            ],
            [
              0.3,
              -0.125
            ],
            [
              0.37167,
              -0.15
            ],
            [
              0.38667,
              -0.15833
            ]
          ],
          [
            [
              0.15,
              -0.435
            ],
            [
              0.165,
              -0.43667
            ],
            [
              0.19333,
              -0.42667
            ],
            [
              0.23833,
              -0.41667
            ],
            [
              0.40333,
              -0.36167
            ],
            [
              0.635,
              -0.26333
            ],
            [
              0.72333,
              -0.22167
            ],
            [
              0.775,
              -0.19333
            ]
          ]
        ],
        "advance": 0.875,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be3": {
        "paths": [
          [
            [
              0.475,
              -0.43667
            ],
            [
              0.37167,
              -0.42833
            ],
            [
              0.28333,
              -0.41
            ],
            [
              0.23333,
              -0.39167
            ],
            [
              0.19833,
              -0.37333
            ],
            [
              0.175,
              -0.35667
            ],
            [
              0.15,
              -0.33333
            ],
            [
              0.135,
              -0.31167
            ],
            [
              0.12667,
              -0.29333
            ],
            [
              0.11667,
              -0.23
            ],
            [
              0.12333,
              -0.18667
            ],
            [
              0.13167,
              -0.16333
            ],
            [
              0.14833,
              -0.13833
            ],
            [
              0.17167,
              -0.115
            ],
            [
              0.20333,
              -0.09333
            ],
            [
              0.23333,
              -0.07833
            ],
            [
              0.28,
              -0.06167
            ],
            [
              0.32,
              -0.05167
            ],
            [
              0.41167,
              -0.03833
            ],
            [
              0.54167,
              -0.03667
            ],
            [
              0.605,
              -0.04167
            ],
            [
              0.65833,
              -0.05
            ],
            [
              0.73667,
              -0.07167
            ],
            [
              0.795,
              -0.1
            ],
            [
              0.83667,
              -0.135
            ],
            [
              0.85,
              -0.15333
            ],
            [
              0.86333,
              -0.18333
            ],
            [
              0.87,
              -0.22167
            ],
            [
              0.87,
              -0.24833
            ],
            [
              0.865,
              -0.28
            ],
            [
              0.85667,
              -0.305
            ],
            [
              0.84,
              -0.33167
            ],
            [
              0.82,
              -0.35167
            ],
            [
              0.78833,
              -0.375
            ],
            [
              0.75167,
              -0.39333
            ],
            [
              0.71667,
              -0.40667
            ],
            [
              0.66667,
              -0.42
            ],
            [
              0.59333,
              -0.43167
            ]
          ]
        ],
        "advance": 0.99,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be4": {
        "paths": [
          [
            [
              0.10167,
              -0.43333
            ],
            [
              0.15,
              -0.45167
            ],
            [
              0.23667,
              -0.47
            ],
            [
              0.32167,
              -0.48
            ],
            [
              0.41667,
              -0.485
            ],
            [
              0.52833,
              -0.48333
            ],
            [
              0.66,
              -0.47167
            ],
            [
              0.74167,
              -0.45667
            ],
            [
              0.78167,
              -0.445
            ],
            [
              0.80833,
              -0.43333
            ]
          ],
          [
            [
              0.28,
              -0.25333
            ],
            [
              0.295,
              -0.25167
            ],
            [
              0.31667,
              -0.25833
            ],
            [
              0.36833,
              -0.26333
            ],
            [
              0.485,
              -0.265
            ],
            [
              0.57167,
              -0.26
            ],
            [
              0.60333,
              -0.255
            ],
            [
              0.60833,
              -0.25167
            ],
            [
              0.62333,
              -0.25167
            ]
          ],
          [
            [
              0.36833,
              -0.03833
            ],
            [
              0.38,
              -0.03667
            ],
            [
              0.39833,
              -0.04167
            ],
            [
              0.44333,
              -0.045
            ],
            [
              0.50833,
              -0.04167
            ],
            [
              0.525,
              -0.03667
            ],
            [
              0.54167,
              -0.03833
            ]
          ]
        ],
        "advance": 0.91299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be5": {
        "paths": [
          [
            [
              0.1,
              -0.08833
            ],
            [
              0.12333,
              -0.07667
            ],
            [
              0.16,
              -0.065
            ],
            [
              0.22667,
              -0.05167
            ],
            [
              0.32333,
              -0.04
            ],
            [
              0.44333,
              -0.035
            ],
            [
              0.58333,
              -0.04
            ],
            [
              0.65833,
              -0.04833
            ],
            [
              0.755,
              -0.06667
            ],
            [
              0.79333,
              -0.08
            ],
            [
              0.80833,
              -0.08833
            ]
          ],
          [
            [
              0.285,
              -0.26667
            ],
            [
              0.29333,
              -0.26833
            ],
            [
              0.315,
              -0.26167
            ],
            [
              0.39167,
              -0.255
            ],
            [
              0.51167,
              -0.255
            ],
            [
              0.58833,
              -0.26167
            ],
            [
              0.61,
              -0.26833
            ],
            [
              0.62333,
              -0.26667
            ]
          ],
          [
            [
              0.36333,
              -0.48167
            ],
            [
              0.37833,
              -0.48333
            ],
            [
              0.42,
              -0.47667
            ],
            [
              0.48667,
              -0.47667
            ],
            [
              0.52833,
              -0.48333
            ],
            [
              0.55167,
              -0.48
            ]
          ]
        ],
        "advance": 0.91299,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1be6": {
        "paths": [
          [
            [
              0.20833,
              -0.58333
            ],
            [
              0.29,
              -0.59333
            ],
            [
              0.36667,
              -0.59167
            ],
            [
              0.41667,
              -0.58333
            ]
          ],
          [
            [
              0.21167,
              -0.72333
            ],
            [
              0.29667,
              -0.73333
            ],
            [
              0.365,
              -0.73167
            ],
            [
              0.42167,
              -0.72333
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": -0.08183
        }
      },
      "\u1be7": {
        "paths": [
          [
            [
              0.85,
              -0.345
            ],
            [
              0.88667,
              -0.32167
            ],
            [
              0.95167,
              -0.27
            ],
            [
              1.0,
              -0.22
            ],
            [
              1.00667,
              -0.19833
            ],
            [
              1.0,
              -0.165
            ],
            [
              0.985,
              -0.14833
            ],
            [
              0.92667,
              -0.095
            ],
            [
              0.85167,
              -0.04333
            ]
          ]
        ],
        "advance": 0.31799479166666667,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.13349
        }
      },
      "\u1be8": {
        "paths": [
          [
            [
              0.595,
              -0.58667
            ],
            [
              0.62167,
              -0.61333
            ],
            [
              0.66,
              -0.645
            ],
            [
              0.715,
              -0.68167
            ],
            [
              0.72667,
              -0.70667
            ],
            [
              0.72,
              -0.735
            ],
            [
              0.695,
              -0.76
            ],
            [
              0.66,
              -0.78667
            ],
            [
              0.59667,
              -0.82667
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": 0.26264
        }
      },
      "\u1be9": {
        "paths": [
          [
            [
              0.03,
              -0.63167
            ],
            [
              0.10667,
              -0.64167
            ],
            [
              0.19667,
              -0.64
            ],
            [
              0.24833,
              -0.63167
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": -0.25999
        }
      },
      "\u1bea": {
        "paths": [
          [
            [
              1.02,
              -0.35333
            ],
            [
              0.965,
              -0.345
            ],
            [
              0.93833,
              -0.33333
            ],
            [
              0.91333,
              -0.31667
            ],
            [
              0.88833,
              -0.29167
            ],
            [
              0.87167,
              -0.265
            ],
            [
              0.86333,
              -0.24333
            ],
            [
              0.85667,
              -0.19833
            ],
            [
              0.86333,
              -0.14333
            ],
            [
              0.86833,
              -0.12833
            ],
            [
              0.885,
              -0.1
            ],
            [
              0.91,
              -0.075
            ],
            [
              0.94167,
              -0.05667
            ],
            [
              0.96167,
              -0.05
            ],
            [
              0.99667,
              -0.045
            ],
            [
              1.02833,
              -0.045
            ],
            [
              1.06667,
              -0.05
            ],
            [
              1.09833,
              -0.06167
            ],
            [
              1.13333,
              -0.085
            ],
            [
              1.15833,
              -0.115
            ],
            [
              1.17333,
              -0.145
            ],
            [
              1.18333,
              -0.20333
            ],
            [
              1.17833,
              -0.24333
            ],
            [
              1.17167,
              -0.26667
            ],
            [
              1.15833,
              -0.29167
            ],
            [
              1.13167,
              -0.32
            ],
            [
              1.115,
              -0.33167
            ],
            [
              1.085,
              -0.345
            ]
          ]
        ],
        "advance": 0.4829947916666667,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.22323
        }
      },
      "\u1beb": {
        "paths": [
          [
            [
              0.84167,
              -0.29667
            ],
            [
              0.87,
              -0.3
            ],
            [
              0.875,
              -0.30333
            ],
            [
              0.915,
              -0.30667
            ],
            [
              0.99333,
              -0.305
            ],
            [
              1.02167,
              -0.29833
            ],
            [
              1.03833,
              -0.29833
            ]
          ],
          [
            [
              0.84167,
              -0.13333
            ],
            [
              0.91833,
              -0.14333
            ],
            [
              0.99167,
              -0.14167
            ],
            [
              1.03667,
              -0.13333
            ]
          ]
        ],
        "advance": 0.32700520833333335,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.1453
        }
      },
      "\u1bec": {
        "paths": [
          [
            [
              0.86333,
              -0.35
            ],
            [
              0.92333,
              -0.31333
            ],
            [
              1.02833,
              -0.235
            ],
            [
              1.05833,
              -0.20333
            ],
            [
              1.075,
              -0.20167
            ]
          ],
          [
            [
              0.86333,
              -0.04
            ],
            [
              0.92167,
              -0.07833
            ],
            [
              0.98667,
              -0.13
            ],
            [
              1.03167,
              -0.17
            ],
            [
              1.035,
              -0.18
            ],
            [
              1.05833,
              -0.20333
            ]
          ],
          [
            [
              1.23167,
              -0.38
            ],
            [
              1.175,
              -0.31167
            ],
            [
              1.10167,
              -0.23667
            ],
            [
              1.1,
              -0.23
            ],
            [
              1.07333,
              -0.20333
            ],
            [
              1.18333,
              -0.10167
            ],
            [
              1.24167,
              -0.04333
            ]
          ]
        ],
        "advance": 0.5329947916666667,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.25606
        }
      },
      "\u1bed": {
        "paths": [
          [
            [
              0.30333,
              -0.715
            ],
            [
              0.37833,
              -0.725
            ],
            [
              0.45333,
              -0.725
            ],
            [
              0.52333,
              -0.71667
            ]
          ],
          [
            [
              0.595,
              -0.58667
            ],
            [
              0.62167,
              -0.61333
            ],
            [
              0.66,
              -0.645
            ],
            [
              0.715,
              -0.68167
            ],
            [
              0.72667,
              -0.70667
            ],
            [
              0.72,
              -0.735
            ],
            [
              0.695,
              -0.76
            ],
            [
              0.655,
              -0.79
            ],
            [
              0.59667,
              -0.825
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": 0.17036
        }
      },
      "\u1bee": {
        "paths": [
          [
            [
              0.545,
              0.185
            ],
            [
              0.56833,
              0.165
            ],
            [
              0.61833,
              0.11167
            ],
            [
              0.66833,
              0.04333
            ],
            [
              0.67,
              0.035
            ]
          ],
          [
            [
              0.62333,
              -0.00167
            ],
            [
              0.64,
              0.00333
            ],
            [
              0.67167,
              0.03333
            ],
            [
              0.67,
              0.035
            ],
            [
              0.68333,
              0.02667
            ],
            [
              0.69833,
              0.01167
            ],
            [
              0.705,
              0.0
            ],
            [
              0.70333,
              -0.02333
            ],
            [
              0.68833,
              -0.05833
            ]
          ]
        ],
        "advance": 0.00398437500000004,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": 0.22569
        }
      },
      "\u1bef": {
        "paths": [
          [
            [
              0.13,
              -0.58667
            ],
            [
              0.16167,
              -0.61
            ],
            [
              0.24833,
              -0.65667
            ],
            [
              0.31,
              -0.68333
            ],
            [
              0.36667,
              -0.70167
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": -0.15391
        }
      },
      "\u1bf0": {
        "paths": [
          [
            [
              0.5,
              -0.63333
            ],
            [
              0.50667,
              -0.63167
            ],
            [
              0.54833,
              -0.64
            ],
            [
              0.645,
              -0.64167
            ],
            [
              0.72,
              -0.63167
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": 0.21159
        }
      },
      "\u1bf1": {
        "paths": [
          [
            [
              0.50833,
              -0.61167
            ],
            [
              0.58,
              -0.62167
            ],
            [
              0.65667,
              -0.62
            ],
            [
              0.70667,
              -0.61167
            ]
          ],
          [
            [
              0.51167,
              -0.75167
            ],
            [
              0.555,
              -0.76
            ],
            [
              0.58333,
              -0.76167
            ],
            [
              0.655,
              -0.76
            ],
            [
              0.71167,
              -0.75167
            ]
          ]
        ],
        "advance": 0,
        "is_mark": true,
        "anchor": {
          "mode": "center",
          "dx": 0.20809
        }
      },
      "\u1bf2": {
        "paths": [
          [
            [
              0.84833,
              -0.345
            ],
            [
              0.85333,
              -0.345
            ],
            [
              0.92167,
              -0.30833
            ],
            [
              1.04333,
              -0.22667
            ],
            [
              1.185,
              -0.115
            ],
            [
              1.25833,
              -0.04167
            ]
          ]
        ],
        "advance": 0.5490104166666666,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.26497
        }
      },
      "\u1bf3": {
        "paths": [
          [
            [
              0.855,
              -0.20167
            ],
            [
              0.86667,
              -0.2
            ],
            [
              0.91333,
              -0.20833
            ],
            [
              1.0,
              -0.21167
            ],
            [
              1.09,
              -0.20833
            ],
            [
              1.135,
              -0.2
            ],
            [
              1.15,
              -0.20167
            ]
          ]
        ],
        "advance": 0.44401041666666663,
        "is_mark": true,
        "anchor": {
          "mode": "right",
          "dx": 0.20429
        }
      },
      "\u1bf4": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bf5": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bf6": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bf7": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bf8": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bf9": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bfa": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bfb": {
        "paths": [
          [
            [
              0.095,
              -0.77
            ],
            [
              0.09333,
              -0.035
            ],
            [
              0.40333,
              -0.03333
            ],
            [
              0.405,
              -0.76833
            ]
          ]
        ],
        "advance": 0.5,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bfc": {
        "paths": [
          [
            [
              0.27167,
              0.085
            ],
            [
              0.25667,
              0.08667
            ],
            [
              0.2,
              0.06333
            ],
            [
              0.18167,
              0.05167
            ],
            [
              0.16333,
              0.03333
            ],
            [
              0.15667,
              0.02
            ],
            [
              0.15,
              -0.01833
            ],
            [
              0.15667,
              -0.04833
            ],
            [
              0.16333,
              -0.06167
            ],
            [
              0.19833,
              -0.09333
            ],
            [
              0.24833,
              -0.12167
            ],
            [
              0.26833,
              -0.155
            ],
            [
              0.26,
              -0.16167
            ],
            [
              0.25167,
              -0.17833
            ],
            [
              0.245,
              -0.185
            ],
            [
              0.22667,
              -0.19167
            ],
            [
              0.18667,
              -0.21333
            ],
            [
              0.16333,
              -0.235
            ],
            [
              0.155,
              -0.25667
            ],
            [
              0.15167,
              -0.27833
            ],
            [
              0.16333,
              -0.31167
            ],
            [
              0.18167,
              -0.33
            ],
            [
              0.23333,
              -0.35833
            ],
            [
              0.26333,
              -0.37
            ],
            [
              0.27667,
              -0.39333
            ],
            [
              0.28667,
              -0.40167
            ],
            [
              0.27167,
              -0.41667
            ],
            [
              0.26667,
              -0.42833
            ],
            [
              0.195,
              -0.47
            ],
            [
              0.16667,
              -0.495
            ],
            [
              0.15667,
              -0.51167
            ],
            [
              0.15,
              -0.54833
            ],
            [
              0.16,
              -0.59
            ],
            [
              0.17833,
              -0.61
            ],
            [
              0.20167,
              -0.625
            ],
            [
              0.24,
              -0.64167
            ],
            [
              0.25667,
              -0.64667
            ],
            [
              0.27333,
              -0.645
            ]
          ],
          [
            [
              0.26667,
              -0.155
            ],
            [
              0.33833,
              -0.15667
            ]
          ],
          [
            [
              0.285,
              -0.40333
            ],
            [
              0.33167,
              -0.40167
            ],
            [
              0.34667,
              -0.41667
            ],
            [
              0.35667,
              -0.44167
            ],
            [
              0.38667,
              -0.46333
            ],
            [
              0.42667,
              -0.48667
            ],
            [
              0.47833,
              -0.50333
            ],
            [
              0.52833,
              -0.50833
            ],
            [
              0.57833,
              -0.50333
            ],
            [
              0.59833,
              -0.49833
            ],
            [
              0.645,
              -0.47833
            ],
            [
              0.69667,
              -0.44333
            ],
            [
              0.70667,
              -0.43333
            ],
            [
              0.71333,
              -0.41167
            ],
            [
              0.72333,
              -0.40167
            ],
            [
              0.79333,
              -0.4
            ],
            [
              0.81,
              -0.43333
            ],
            [
              0.87667,
              -0.47167
            ],
            [
              0.90333,
              -0.49667
            ],
            [
              0.915,
              -0.52667
            ],
            [
              0.91667,
              -0.555
            ],
            [
              0.90667,
              -0.59167
            ],
            [
              0.88333,
              -0.615
            ],
            [
              0.84667,
              -0.635
            ],
            [
              0.81333,
              -0.64667
            ],
            [
              0.79167,
              -0.645
            ]
          ],
          [
            [
              0.33167,
              -0.40167
            ],
            [
              0.33333,
              -0.40333
            ],
            [
              0.355,
              -0.37833
            ],
            [
              0.475,
              -0.31333
            ],
            [
              0.495,
              -0.28
            ],
            [
              0.57333,
              -0.28167
            ],
            [
              0.59333,
              -0.24667
            ],
            [
              0.70667,
              -0.185
            ],
            [
              0.72167,
              -0.16
            ],
            [
              0.71333,
              -0.15
            ],
            [
              0.705,
              -0.125
            ],
            [
              0.67833,
              -0.105
            ],
            [
              0.635,
              -0.07833
            ],
            [
              0.60667,
              -0.06667
            ],
            [
              0.57333,
              -0.05833
            ],
            [
              0.515,
              -0.055
            ],
            [
              0.46667,
              -0.06167
            ],
            [
              0.415,
              -0.08167
            ],
            [
              0.355,
              -0.12167
            ],
            [
              0.34667,
              -0.145
            ],
            [
              0.33667,
              -0.155
            ],
            [
              0.345,
              -0.16333
            ],
            [
              0.35167,
              -0.17833
            ],
            [
              0.475,
              -0.24667
            ],
            [
              0.495,
              -0.28
            ]
          ],
          [
            [
              0.57167,
              -0.28
            ],
            [
              0.58,
              -0.28833
            ],
            [
              0.59333,
              -0.31333
            ],
            [
              0.70667,
              -0.375
            ],
            [
              0.71667,
              -0.395
            ],
            [
              0.72333,
              -0.40167
            ]
          ],
          [
            [
              0.72167,
              -0.16
            ],
            [
              0.79833,
              -0.15667
            ],
            [
              0.81667,
              -0.18667
            ],
            [
              0.84667,
              -0.19833
            ],
            [
              0.89,
              -0.22333
            ],
            [
              0.90333,
              -0.23667
            ],
            [
              0.91,
              -0.25
            ],
            [
              0.91667,
              -0.27833
            ],
            [
              0.905,
              -0.31667
            ],
            [
              0.87,
              -0.345
            ],
            [
              0.81167,
              -0.37167
            ],
            [
              0.79333,
              -0.4
            ]
          ],
          [
            [
              0.79333,
              0.085
            ],
            [
              0.81167,
              0.08667
            ],
            [
              0.84833,
              0.07333
            ],
            [
              0.88,
              0.05667
            ],
            [
              0.905,
              0.03333
            ],
            [
              0.91167,
              0.01833
            ],
            [
              0.91667,
              -0.00667
            ],
            [
              0.91333,
              -0.04
            ],
            [
              0.90333,
              -0.06333
            ],
            [
              0.875,
              -0.09
            ],
            [
              0.81667,
              -0.12333
            ],
            [
              0.81,
              -0.13
            ],
            [
              0.79833,
              -0.15833
            ]
          ]
        ],
        "advance": 1.07,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bfd": {
        "paths": [
          [
            [
              0.44667,
              -0.215
            ],
            [
              0.42333,
              -0.21167
            ],
            [
              0.34833,
              -0.21
            ],
            [
              0.305,
              -0.215
            ],
            [
              0.26833,
              -0.22667
            ],
            [
              0.22833,
              -0.24833
            ],
            [
              0.205,
              -0.26667
            ],
            [
              0.18167,
              -0.29
            ],
            [
              0.17333,
              -0.32
            ],
            [
              0.18167,
              -0.34667
            ],
            [
              0.20833,
              -0.37167
            ],
            [
              0.23833,
              -0.39333
            ],
            [
              0.27833,
              -0.41333
            ],
            [
              0.31333,
              -0.42333
            ],
            [
              0.34,
              -0.42667
            ],
            [
              0.42667,
              -0.425
            ],
            [
              0.44667,
              -0.42167
            ],
            [
              0.44833,
              -0.43333
            ],
            [
              0.445,
              -0.45
            ],
            [
              0.44333,
              -0.52833
            ],
            [
              0.44667,
              -0.55833
            ],
            [
              0.45667,
              -0.59333
            ],
            [
              0.47333,
              -0.62833
            ],
            [
              0.495,
              -0.65833
            ],
            [
              0.525,
              -0.68833
            ],
            [
              0.55,
              -0.69667
            ]
          ],
          [
            [
              0.44833,
              -0.21333
            ],
            [
              0.445,
              -0.18667
            ],
            [
              0.44333,
              -0.10667
            ],
            [
              0.44667,
              -0.07833
            ],
            [
              0.45667,
              -0.04167
            ],
            [
              0.475,
              -0.005
            ],
            [
              0.50167,
              0.03
            ],
            [
              0.525,
              0.05333
            ],
            [
              0.55333,
              0.06167
            ],
            [
              0.58,
              0.05333
            ],
            [
              0.60167,
              0.03167
            ],
            [
              0.62667,
              -0.00167
            ],
            [
              0.65,
              -0.05
            ],
            [
              0.65833,
              -0.08333
            ],
            [
              0.66167,
              -0.11333
            ],
            [
              0.65667,
              -0.215
            ],
            [
              0.68167,
              -0.21167
            ],
            [
              0.75667,
              -0.21
            ],
            [
              0.8,
              -0.215
            ],
            [
              0.83667,
              -0.22667
            ],
            [
              0.86333,
              -0.24
            ],
            [
              0.90167,
              -0.26833
            ],
            [
              0.92167,
              -0.28833
            ],
            [
              0.93167,
              -0.31667
            ],
            [
              0.92333,
              -0.345
            ],
            [
              0.9,
              -0.36833
            ],
            [
              0.86667,
              -0.39333
            ],
            [
              0.82667,
              -0.41333
            ],
            [
              0.79167,
              -0.42333
            ],
            [
              0.76333,
              -0.42667
            ],
            [
              0.67833,
              -0.425
            ],
            [
              0.65833,
              -0.42167
            ],
            [
              0.65667,
              -0.435
            ],
            [
              0.66167,
              -0.52167
            ],
            [
              0.655,
              -0.56833
            ],
            [
              0.64667,
              -0.595
            ],
            [
              0.62833,
              -0.63167
            ],
            [
              0.59333,
              -0.67667
            ],
            [
              0.57833,
              -0.69
            ],
            [
              0.55,
              -0.69667
            ]
          ],
          [
            [
              0.44833,
              -0.42333
            ],
            [
              0.50333,
              -0.37
            ],
            [
              0.52667,
              -0.34167
            ],
            [
              0.55167,
              -0.31667
            ],
            [
              0.55333,
              -0.31833
            ],
            [
              0.44833,
              -0.215
            ]
          ],
          [
            [
              0.55,
              -0.31833
            ],
            [
              0.55333,
              -0.31833
            ],
            [
              0.655,
              -0.42167
            ]
          ],
          [
            [
              0.55333,
              -0.31667
            ],
            [
              0.65667,
              -0.215
            ]
          ]
        ],
        "advance": 1.10701,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bfe": {
        "paths": [
          [
            [
              0.17333,
              0.075
            ],
            [
              0.175,
              0.07667
            ],
            [
              0.185,
              0.07167
            ],
            [
              0.21833,
              0.045
            ],
            [
              0.25167,
              0.0
            ],
            [
              0.26667,
              -0.04333
            ],
            [
              0.27333,
              -0.095
            ],
            [
              0.26833,
              -0.15167
            ],
            [
              0.26,
              -0.19
            ],
            [
              0.24,
              -0.24333
            ],
            [
              0.19667,
              -0.34
            ],
            [
              0.17833,
              -0.39667
            ],
            [
              0.17,
              -0.45833
            ],
            [
              0.17333,
              -0.50833
            ],
            [
              0.185,
              -0.555
            ],
            [
              0.205,
              -0.59
            ],
            [
              0.24,
              -0.62667
            ],
            [
              0.26667,
              -0.645
            ],
            [
              0.27667,
              -0.64333
            ]
          ],
          [
            [
              0.38333,
              0.075
            ],
            [
              0.385,
              0.07667
            ],
            [
              0.395,
              0.07167
            ],
            [
              0.42833,
              0.045
            ],
            [
              0.46167,
              0.0
            ],
            [
              0.47667,
              -0.04333
            ],
            [
              0.48333,
              -0.10333
            ],
            [
              0.47833,
              -0.15167
            ],
            [
              0.47,
              -0.19
            ],
            [
              0.45,
              -0.24333
            ],
            [
              0.40667,
              -0.34
            ],
            [
              0.38833,
              -0.39667
            ],
            [
              0.38,
              -0.45833
            ],
            [
              0.38167,
              -0.49667
            ],
            [
              0.38667,
              -0.52833
            ],
            [
              0.395,
              -0.555
            ],
            [
              0.415,
              -0.59
            ],
            [
              0.45,
              -0.62667
            ],
            [
              0.47333,
              -0.64333
            ],
            [
              0.485,
              -0.645
            ]
          ],
          [
            [
              0.57833,
              0.07667
            ],
            [
              0.59667,
              0.06667
            ],
            [
              0.625,
              0.04333
            ],
            [
              0.65667,
              0.0
            ],
            [
              0.67167,
              -0.04333
            ],
            [
              0.67833,
              -0.095
            ],
            [
              0.67333,
              -0.15167
            ],
            [
              0.665,
              -0.19
            ],
            [
              0.645,
              -0.24333
            ],
            [
              0.6,
              -0.34333
            ],
            [
              0.58333,
              -0.395
            ],
            [
              0.575,
              -0.45667
            ],
            [
              0.57833,
              -0.51
            ],
            [
              0.59,
              -0.555
            ],
            [
              0.60833,
              -0.58833
            ],
            [
              0.645,
              -0.62667
            ],
            [
              0.67167,
              -0.645
            ],
            [
              0.68167,
              -0.64333
            ]
          ]
        ],
        "advance": 0.85099,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      },
      "\u1bff": {
        "paths": [
          [
            [
              -0.07,
              -0.67833
            ],
            [
              -0.05167,
              -0.68
            ],
            [
              -0.035,
              -0.67333
            ],
            [
              0.01333,
              -0.66333
            ],
            [
              0.05167,
              -0.65
            ],
            [
              0.09833,
              -0.62833
            ],
            [
              0.16167,
              -0.58833
            ],
            [
              0.22667,
              -0.52833
            ],
            [
              0.25167,
              -0.49833
            ],
            [
              0.27667,
              -0.46167
            ],
            [
              0.30667,
              -0.40167
            ],
            [
              0.32667,
              -0.34167
            ],
            [
              0.335,
              -0.295
            ],
            [
              0.33833,
              -0.255
            ],
            [
              0.33667,
              -0.16667
            ],
            [
              0.33,
              -0.11833
            ],
            [
              0.32167,
              -0.08333
            ],
            [
              0.30833,
              -0.045
            ],
            [
              0.28667,
              0.00167
            ],
            [
              0.25167,
              0.055
            ],
            [
              0.185,
              0.12333
            ],
            [
              0.11,
              0.17333
            ],
            [
              0.02167,
              0.21167
            ],
            [
              -0.045,
              0.23
            ],
            [
              -0.06333,
              0.23
            ]
          ]
        ],
        "advance": 0.495,
        "is_mark": false,
        "anchor": {
          "mode": "base",
          "dx": 0
        }
      }
    };

    function transliterateToba(text) {
      const consonants = {
        'h': '\u1BC2', 'k': '\u1BC2',
        'g': '\u1BCE', 'n': '\u1BC9', 'm': '\u1BD4',
        'b': '\u1BC5', 't': '\u1BD6', 'd': '\u1BD1', 'p': '\u1BC7',
        'w': '\u1BCB', 's': '\u1BD8', 'y': '\u1BDB', 'l': '\u1BDE',
        'r': '\u1BD2', 'j': '\u1BD0', 'c': '\u1BD0',
        'f': '\u1BC7', 'v': '\u1BC5',
        'a': '\u1BC0', 'i': '\u1BE4', 'u': '\u1BE5'
      };
      const vowels = {
        'i': '\u1BEA', 'u': '\u1BEE', 'e': '\u1BE7', 'o': '\u1BEC'
      };
      const pangolat = '\u1BF2';
      const amborolong = '\u1BF0';
      let t = text.toLowerCase().trim().replace(/ng/g, 'Å‹');
      let res = "";
      let i = 0;
      while (i < t.length) {
        let char = t[i];
        if (char === 'Å‹') { res += amborolong; i++; continue; }
        if (consonants[char]) {
          res += consonants[char];
          if (i + 1 < t.length) {
            let next = t[i + 1];
            if (vowels[next]) {
              // Check closed syllable displacement: C1 + V + C2(closed) -> C1 + C2 + V + Pangolat
              let displaced = false;
              if (i + 2 < t.length) {
                let c2 = t[i + 2];
                // If C2 is a consonant and NOT a base vowel (a/i/u)
                if (consonants[c2] && !['a', 'i', 'u'].includes(c2)) {
                  let isOpen = false;
                  if (i + 3 < t.length) {
                    let c3 = t[i + 3];
                    if (vowels[c3] || c3 === 'a') isOpen = true;
                  }
                  if (!isOpen) {
                    res += consonants[c2];
                    res += vowels[next];
                    res += pangolat;
                    i += 3;
                    displaced = true;
                  }
                }
              }

              if (!displaced) {
                res += vowels[next]; i += 2;
              }
              continue;
            }
            else if (next === 'a') {
              i += 2; continue;
            }

            else {
              // Closed syllable checks
              if (!['a', 'i', 'u'].includes(char)) res += pangolat;
            }
          } else {
            // End of word
            if (!['a', 'i', 'u'].includes(char)) res += pangolat;
          }
        } else if (vowels[char]) {
          let base = char === 'i' ? '\u1BE4' : (char === 'u' ? '\u1BE5' : '\u1BC0');
          res += base;
          if (char === 'e' || char === 'o') res += vowels[char];
        } else {
          res += char;
        }
        i++;
      }
      return res;
    }

    class BacklashFixer {
      constructor(bx, by) {
        this.bx = bx; this.by = by;
        this.cx = 0; this.cy = 0;
        this.ox = 0; this.oy = 0;
        this.dx = 1; this.dy = 1;
      }
      process(targetX, targetY, isG0, feed) {
        let cmds = [];
        let dx = targetX - this.cx;
        let dy = targetY - this.cy;
        const thres = 0.05; // Tighter threshold

        let backlashTriggered = false;

        // X Axis
        if (Math.abs(dx) > thres) {
          let ndx = dx > 0 ? 1 : -1;
          if (this.dx !== 0 && ndx !== this.dx) {
            let shift = (ndx === 1 ? this.bx : -this.bx);
            this.ox += shift;
            backlashTriggered = true;
          }
          this.dx = ndx;
        }

        // Y Axis
        if (Math.abs(dy) > thres) {
          let ndy = dy > 0 ? 1 : -1;
          if (this.dy !== 0 && ndy !== this.dy) {
            let shift = (ndy === 1 ? this.by : -this.by);
            this.oy += shift;
            backlashTriggered = true;
          }
          this.dy = ndy;
        }

        // If backlash compensation occured (offset changed), insert a rapid move 
        // to the CURRENT position but with the NEW offset.
        // This "takes up the slack" before the actual move begins.
        if (backlashTriggered) {
          let preX = this.cx + this.ox;
          let preY = this.cy + this.oy;
          cmds.push(`G0 X${preX.toFixed(3)} Y${preY.toFixed(3)} ; Backlash Fix`);
        }

        let fx = targetX + this.ox;
        let fy = targetY + this.oy;
        let cmd = isG0 ? "G0" : "G1";
        let line = cmd + " X" + fx.toFixed(3) + " Y" + fy.toFixed(3); if (!isG0) line += " F" + feed;
        cmds.push(line);
        this.cx = targetX; this.cy = targetY;
        return cmds;
      }
    }

    function log(msg) {
      const c = document.getElementById('console');
      if (c) {
        c.innerText += msg + "\n";
        c.scrollTop = c.scrollHeight;
      }
    }

    function getPathLength(path) {
      let len = 0;
      for (let i = 1; i < path.length; i++) {
        let dx = path[i][0] - path[i - 1][0];
        let dy = path[i][1] - path[i - 1][1];
        len += Math.sqrt(dx * dx + dy * dy);
      }
      return len;
    }

    function optimizePaths(paths) {
      if (paths.length === 0) return [];

      // 1. Sort by X of start point for general Left-to-Right flow
      let pool = paths.slice().sort((a, b) => a[0][0] - b[0][0]);

      const mergeThreshold = 0.1; // Increased to 0.1 units
      let merged = true;

      // Iteratively merge until no more merges occur
      while (merged) {
        merged = false;
        let newPool = [];
        let current = pool[0];

        for (let i = 1; i < pool.length; i++) {
          let next = pool[i];
          let lastPt = current[current.length - 1];
          let firstPt = next[0];

          let dx = firstPt[0] - lastPt[0];
          let dy = firstPt[1] - lastPt[1];
          let dist = Math.sqrt(dx * dx + dy * dy);

          if (dist < mergeThreshold) {
            // Merge!
            if (dist === 0) {
              current = current.concat(next.slice(1));
            } else {
              current = current.concat(next);
            }
            merged = true;
          } else {
            newPool.push(current);
            current = next;
          }
        }
        newPool.push(current);
        pool = newPool;
      }
      return pool;
    }

    function generate() {
      const consoleEl = document.getElementById('console');
      consoleEl.innerText = ""; // Clear console
      log("--- Starting Generation ---");

      if (Object.keys(glyphs).length === 0) { log("Error: No glyphs loaded!"); return; }
      const textStr = document.getElementById('inputText').value;
      const targetW_mm = parseFloat(document.getElementById('width').value);
      const isPlotter = document.getElementById('isPlotter').checked;

      log(`Mode: ${isPlotter ? 'CONTINUOUS PLOT (No Dipping)' : 'Standard (Ink Dipping)'}`);
      log(`Target Width: ${targetW_mm}mm`);
      const offX = parseFloat(document.getElementById('ox').value);
      const offY = parseFloat(document.getElementById('oy').value);
      const feed = parseInt(document.getElementById('feed').value);
      const safeZ = parseFloat(document.getElementById('safeZ').value) || 5;
      const bx = parseFloat(document.getElementById('bx').value);
      const by = parseFloat(document.getElementById('by').value);

      const kVal = parseFloat(document.getElementById('kerning').value);
      const artefactThr = parseFloat(document.getElementById('artefactThr').value) || 0;

      log(`Input Text: "${textStr}"`);
      let batakText = textStr;
      if (/^[a-zA-Z\s]+$/.test(textStr)) {
        batakText = transliterateToba(textStr);
        log(`Transliterated: "${batakText}"`);
      } else {
        log("Using raw input as Batak text.");
      }

      let totalPaths = [];
      let cursorX = 0;
      let lastBaseOriginX = 0;
      let lastBaseAdvance = 0;
      let skippedArtefacts = 0;
      let markShiftX = 0;

      for (let char of batakText) {
        if (char === ' ') {
          cursorX += 0.5;
          lastBaseOriginX = cursorX;
          lastBaseAdvance = 0.5;
          continue;
        }
        const g = glyphs[char];
        if (!g) { log(`Warning: Missing glyph for char code ${char.charCodeAt(0)}`); continue; }

        let drawX = cursorX;
        if (char === '\u1BF2') drawX -= 0.85;

        if (g.is_mark && char !== '\u1BF2') {
          let mode = g.anchor ? g.anchor.mode : 'center';
          let dx = g.anchor ? g.anchor.dx : 0;
          const REF_BASE_ADV = 478.2 / 600.0;

          if (mode === 'right') {
            let shift = lastBaseAdvance - REF_BASE_ADV;
            drawX = lastBaseOriginX + shift;
          } else {
            let shift = (lastBaseAdvance / 2) - (REF_BASE_ADV / 2);
            drawX = lastBaseOriginX + shift;
          }
        }

        // 1. Filter Artefacts
        let cleanPaths = [];
        for (let p of g.paths) {
          if (getPathLength(p) < artefactThr) {
            skippedArtefacts++;
            continue;
          }
          cleanPaths.push(p);
        }

        // 2. Optimize (Sort L->R & Merge)
        let optPaths = optimizePaths(cleanPaths);

        // 3. Add to Total
        for (let p of optPaths) {
          totalPaths.push(p.map(pt => [pt[0] + drawX, pt[1]]));
        }

        if (!g.is_mark || char === '\u1BF2') {
          markShiftX = 0;
          lastBaseOriginX = cursorX;
          lastBaseAdvance = g.advance;
          cursorX += g.advance + kVal;
        } else {
          // Stacking logic: apply current shift
          if (markShiftX > 0) {
            // If we have accumulation, we likely need to apply it
            // But first, let's see if this mark ALREADY has offset logic
            // Our code updated drawX based on anchor.
            // We add markShiftX to that.
            // BUT, we should only do this if this is the SECOND mark (markShiftX > 0).
            // However, markShiftX is 0 for first mark. Correct.
          }

          // Calculate this mark's width for NEXT mark
          let mMin = Infinity, mMax = -Infinity;
          for (let p of g.paths) {
            for (let pt of p) {
              mMin = Math.min(mMin, pt[0]);
              mMax = Math.max(mMax, pt[0]);
            }
          }
          let mWidth = (mMax > mMin) ? (mMax - mMin) : 0;

          // Apply the shift to the paths WE ARE ABOUT TO ADD
          // NOTE: We must update totalPaths loop below to use drawX + markShiftX if we want.
          // Actually, let's update drawX right here ??
          // totalPaths.push(p.map(pt => [pt[0] + drawX, pt[1]]));
          // So if we update drawX, it applies.

          drawX += markShiftX;

          // Increment for NEXT mark
          markShiftX += (mWidth > 0 ? mWidth : 0.4) + 0.5;

          // If mark has advance (spacing), add it!
          if (g.advance > 0) {
            cursorX += g.advance;
          }

          // AUTO-SPACING: If the mark we just drew extends BEYOND the current cursorX (end of base),
          // we must push cursorX to accommodate it.
          // This ensures that the NEXT base glyph (like Pangolat) starts *after* this mark.
          // mMax is relative to 0 (glyph origin).
          // drawX is absolute position of mark origin.
          // Visual Right Edge of Mark = drawX + mMax.
          let markRightEdge = drawX + mMax;
          if (markRightEdge > cursorX) {
            // Add a small buffer (tighten by allowing slight overlap -0.1)
            cursorX = markRightEdge - 0.1;
          }
        }
      }

      if (totalPaths.length === 0) { log("No paths generated."); return; }
      let minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity;
      for (let path of totalPaths) {
        for (let pt of path) {
          minX = Math.min(minX, pt[0]); maxX = Math.max(maxX, pt[0]);
          minY = Math.min(minY, pt[1]); maxY = Math.max(maxY, pt[1]);
        }
      }
      const scale = targetW_mm / (maxX - minX);
      const contentH_mm = (maxY - minY) * scale;

      log(`Bounds: W=${(maxX - minX).toFixed(2)} units -> ${targetW_mm}mm, Scale=${scale.toFixed(3)}`);

      let gcode = ["%", "(Batak Skeleton Assembler Output)", "G21 G90", `G0 Z${safeZ}`];
      const dipLimit = parseFloat(document.getElementById('dipDist').value);
      const dipX = parseFloat(document.getElementById('dipX').value);
      const dipY = parseFloat(document.getElementById('dipY').value);
      // const dipZ = parseFloat(document.getElementById('dipZ').value); // Removed from UI
      let distAcc = 0;
      let lastX = 0, lastY = 0;
      let dipCount = 0;

      const fixer = new BacklashFixer(bx, by);


      // --- Perform Initial Dip (Only if NOT plotter mode) ---
      if (!isPlotter) {
        dipCount++;
        gcode.push(`(Initial Dip #${dipCount})`);
        const rawDip = document.getElementById('dipSeq').value;
        if (rawDip && rawDip.trim().length > 0) {
          // Custom Sequence Logic
          const lines = rawDip.split('\n');
          let refX = null, refY = null;
          for (let l of lines) {
            const mx = /X([0-9\.\-]+)/i.exec(l);
            const my = /Y([0-9\.\-]+)/i.exec(l);
            if (mx && my) { refX = parseFloat(mx[1]); refY = parseFloat(my[1]); break; }
          }
          if (refX !== null && refY !== null) {
            const shiftX = dipX - refX;
            const shiftY = dipY - refY;
            for (let l of lines) {
              let clean = l.split(';')[0].trim();
              if (!clean) continue;
              let newLine = clean.replace(/([XY])([0-9\.\-]+)/gi, (match, axis, val) => {
                let v = parseFloat(val);
                if (axis.toUpperCase() === 'X') return "X" + (v + shiftX).toFixed(3);
                if (axis.toUpperCase() === 'Y') return "Y" + (v + shiftY).toFixed(3);
                return match;
              });
              gcode.push(newLine);
            }
          } else {
            for (let l of lines) {
              let clean = l.split(';')[0].trim();
              if (clean) gcode.push(clean);
            }
          }
        } else {
          gcode.push(`G0 Z${safeZ}`);
          gcode.push(`G0 X${dipX} Y${dipY}`);
          gcode.push(`G1 Z-2 F500`);
          gcode.push("G4 P500");
          gcode.push(`G0 Z${safeZ}`);
        }
        // Return to Z5 safe height
        gcode.push(`G0 Z${safeZ}`);
      }



      for (let path of totalPaths) {
        let first = true;
        for (let pt of path) {
          let tx = (pt[0] - minX) * scale + offX;
          let ty = contentH_mm - (pt[1] - minY) * scale + offY;

          // Calc distance for dipping
          if (!first) {
            let d = Math.sqrt(Math.pow(tx - lastX, 2) + Math.pow(ty - lastY, 2));
            distAcc += d;
          }

          if (first) {
            fixer.process(tx, ty, true, feed).forEach(l => gcode.push(l));
            gcode.push("G1 Z0 F500");
            first = false;
          } else {
            fixer.process(tx, ty, false, feed).forEach(l => gcode.push(l));
          }

          lastX = tx;
          lastY = ty;
        }
        gcode.push(`G0 Z${safeZ}`);

        // Check dip AFTER stroke is complete
        if (!isPlotter && distAcc > dipLimit) {
          dipCount++;
          gcode.push(`(Dip #${dipCount} at dist ${distAcc.toFixed(1)} after stroke)`);
          const rawDip = document.getElementById('dipSeq').value;

          if (rawDip && rawDip.trim().length > 0) {
            // Custom Sequence Logic
            const lines = rawDip.split('\n');
            let refX = null, refY = null;
            // First pass: find first X/Y to use as reference anchor
            for (let l of lines) {
              const mx = /X([0-9\.\-]+)/i.exec(l);
              const my = /Y([0-9\.\-]+)/i.exec(l);
              if (mx && my) { refX = parseFloat(mx[1]); refY = parseFloat(my[1]); break; }
            }

            if (refX !== null && refY !== null) {
              const shiftX = dipX - refX;
              const shiftY = dipY - refY;
              for (let l of lines) {
                let clean = l.split(';')[0].trim();
                if (!clean) continue;
                // Shift coordinates - naive regex replace for X and Y values
                let newLine = clean.replace(/([XY])([0-9\.\-]+)/gi, (match, axis, val) => {
                  let v = parseFloat(val);
                  if (axis.toUpperCase() === 'X') return "X" + (v + shiftX).toFixed(3);
                  if (axis.toUpperCase() === 'Y') return "Y" + (v + shiftY).toFixed(3);
                  return match;
                });
                gcode.push(newLine);
              }
            } else {
              // No reference coords found, just append lines as-is
              for (let l of lines) {
                let clean = l.split(';')[0].trim();
                if (clean) gcode.push(clean);
              }
            }
          } else {
            // Default Sequence
            gcode.push(`G0 Z${safeZ}`);
            gcode.push(`G0 X${dipX} Y${dipY}`);
            gcode.push(`G1 Z-2 F500`);
            gcode.push("G4 P500");
            gcode.push(`G0 Z${safeZ}`);
          }

          // Move back to where the NEXT stroke will start? 
          // Actually we are at Z5 (safe).
          // We just need to ensure the next move is G0 to the start of the next stroke.
          // The next iteration of the loop handles the G0 to the start of the next path automatically.
          // But we do need to reset distAcc.
          distAcc = 0;
        }
      }
      gcode.push("G0 X10 Y130", "M30", "%");

      log(`Generation Complete.`);
      if (skippedArtefacts > 0) log(`Cleaned ${skippedArtefacts} small artefacts.`);
      log(`Total Paths: ${totalPaths.length}`);
      log(`Ink Dips Inserted: ${dipCount}`);
      log(`total G-Code Lines: ${gcode.length}`);

      const output = document.getElementById('gcodeOutput');
      if (output) output.value = gcode.join("\n");
      const downBtn = document.getElementById('downloadBtn');
      if (downBtn) downBtn.style.display = 'block';
      const copyBtn = document.getElementById('copyBtn');
      if (copyBtn) copyBtn.style.display = 'block';
      const upBtn = document.getElementById('uploadBtn');
      if (upBtn) upBtn.style.display = 'block';
      const runBtn = document.getElementById('runBtn');
      if (runBtn) runBtn.style.display = 'block';
      const upRunBtn = document.getElementById('upRunBtn');
      if (upRunBtn) upRunBtn.style.display = 'block';
      const testBtn = document.getElementById('testBtn');
      if (testBtn) testBtn.style.display = 'block';
      renderPreview(gcode);
    }
    function renderPreview(gcodeLines) {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      const W = 150; // Work area width mm
      const H = 140; // Work area height mm

      const PPU = 5;
      canvas.width = W * PPU;
      canvas.height = H * PPU;

      ctx.fillStyle = "white"; ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = "#eee"; ctx.lineWidth = 1; ctx.beginPath();
      for (let x = 0; x <= W; x += 10) { ctx.moveTo(x * PPU, 0); ctx.lineTo(x * PPU, H * PPU); }
      for (let y = 0; y <= H; y += 10) { ctx.moveTo(0, y * PPU); ctx.lineTo(W * PPU, y * PPU); }
      ctx.stroke();
      ctx.strokeStyle = "#ccc"; ctx.strokeRect(0, 0, W * PPU, H * PPU);

      let curX = 0, curY = 0, curZ = 5;
      const styleDraw = { color: "#ff0080", width: 4 };
      const styleTravel = { color: "#cccccc", width: 1 };

      ctx.lineCap = "round"; ctx.lineJoin = "round";

      for (let line of gcodeLines) {
        let cmd = line.split('(')[0].trim().toUpperCase();
        if (cmd.length === 0) continue;
        let isG0 = cmd.startsWith("G0");
        let isG1 = cmd.startsWith("G1");
        if (!isG0 && !isG1) continue;

        let nextX = curX, nextY = curY, nextZ = curZ;
        const matchX = /X([0-9\.\-]+)/.exec(cmd); if (matchX) nextX = parseFloat(matchX[1]);
        const matchY = /Y([0-9\.\-]+)/.exec(cmd); if (matchY) nextY = parseFloat(matchY[1]);
        const matchZ = /Z([0-9\.\-]+)/.exec(cmd); if (matchZ) nextZ = parseFloat(matchZ[1]);

        let isDrawing = (Math.abs(curZ) < 0.01 && Math.abs(nextZ) < 0.01) && (curX !== nextX || curY !== nextY);
        let x1 = curX * PPU;
        let y1 = (H - curY) * PPU;
        let x2 = nextX * PPU;
        let y2 = (H - nextY) * PPU;

        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);

        if (isDrawing) {
          ctx.strokeStyle = styleDraw.color;
          ctx.lineWidth = styleDraw.width;
          ctx.stroke();
        } else if (x1 !== x2 || y1 !== y2) {
          ctx.strokeStyle = styleTravel.color;
          ctx.lineWidth = styleTravel.width;
          ctx.stroke();
        }
        curX = nextX; curY = nextY; curZ = nextZ;
      }
    }

    function downloadGcode() {
      const text = document.getElementById('gcodeOutput').value;
      const inputStr = document.getElementById('inputText').value.trim();
      // Sanitize filename
      const safeName = inputStr.replace(/[^a-z0-9]/gi, '_').toLowerCase() || 'output';

      const blob = new Blob([text], { type: 'text/plain' });
      const anchor = document.createElement('a');
      anchor.download = `${safeName}-batak.gcode`;
      anchor.href = window.URL.createObjectURL(blob);
      anchor.click();
    }

    function copyGcode() {
      const copyText = document.getElementById("gcodeOutput");
      copyText.select();
      document.execCommand("copy");
    }

    function getBaseUrl() {
      if (window.location.protocol === 'file:') {
        const host = document.getElementById('controllerHost').value.trim() || "brushographwhite.local";
        let url = host.startsWith("http") ? host : "http://" + host;
        log(`Local Mode. Targeting: ${url}`);
        return url;
      }
      return "";
    }

    async function uploadOnly() {
      const text = document.getElementById('gcodeOutput').value;
      if (!text) { log("No G-code to upload!"); return; }

      const baseUrl = getBaseUrl();
      const inputStr = document.getElementById('inputText').value.trim();
      const safeName = (inputStr.replace(/[^a-z0-9]/gi, '_').toLowerCase() || 'output') + "-batak.gcode";

      const blob = new Blob([text], { type: 'text/plain' });
      const formData = new FormData();
      formData.append("path", "/");
      formData.append("myfile", blob, safeName);

      log(`Uploading ${safeName} to ${baseUrl}/upload ...`);

      try {
        const fetchOptions = { method: 'POST', body: formData };
        if (baseUrl) fetchOptions.mode = 'no-cors';

        const upRes = await fetch(`${baseUrl}/upload`, fetchOptions);
        if (!baseUrl && !upRes.ok) throw new Error(`Upload failed: ${upRes.statusText}`);

        log(`Upload initiated! (Response opaque in local mode)`);
      } catch (e) {
        handleError(e);
      }
    }

    async function uploadAndRun() {
      await uploadOnly();
      // Wait for sync (UI logs handled in uploadOnly)
      log("Waiting 2s for SD sync...");
      await new Promise(r => setTimeout(r, 2000));
      await runGcodeOnly();
    }

    async function runGcodeOnly() {
      const baseUrl = getBaseUrl();
      const inputStr = document.getElementById('inputText').value.trim();
      const safeName = (inputStr.replace(/[^a-z0-9]/gi, '_').toLowerCase() || 'output') + "-batak.gcode";

      const cmd = `$SD/Run=/${safeName}`;
      log(`Sending Run Command: ${cmd}`);

      await sendCommand(baseUrl, cmd);
    }

    async function testWiggle() {
      const baseUrl = getBaseUrl();
      log("Testing Connection (Wiggle Z)...");
      // G91 (Relative), Z3, Z-3, G90 (Absolute)
      // Send as single line with newlines if supported, or multiple calls?
      // FluidNC single line command parsing for multiple Gcodes is tricky via web API.
      // Let's try simple single G0 Z3 for now to test connection.
      // Better: G0 Z5 (Safe) -> G0 Z8 -> G0 Z5
      const cmd = "G91 G0 Z3 F500";
      await sendCommand(baseUrl, cmd);
      setTimeout(() => sendCommand(baseUrl, "G91 G0 Z-3"), 500);
      setTimeout(() => sendCommand(baseUrl, "G90"), 1000);
    }

    async function sendCommand(baseUrl, cmdStr) {
      const cmdUrl = `${baseUrl}/command?cmd=${encodeURIComponent(cmdStr)}`;
      const runOptions = { method: 'GET' };
      if (baseUrl) runOptions.mode = 'no-cors';

      try {
        const runRes = await fetch(cmdUrl, runOptions);
        if (!baseUrl && !runRes.ok) throw new Error(`Command failed: ${runRes.statusText}`);

        if (baseUrl) {
          const cleanCmd = cmdStr.length > 20 ? cmdStr.substring(0, 20) + "..." : cmdStr;
          log(`Cmd '${cleanCmd}' sent (Blind mode).`);
        } else {
          const runText = await runRes.text();
          log(`Response: ${runText}`);
        }
      } catch (e) {
        handleError(e);
      }
    }

    function handleError(e) {
      log(`Error: ${e.message}`);
      console.error(e);
      if (e.message.includes("Failed to fetch")) {
        alert(`Connection Error: "Failed to fetch".\nBrowser blocked response (CORS). Action likely succeeded.`);
      } else {
        alert(`Error: ${e.message}`);
      }
    }

    function showStatus(msg) { document.getElementById('status').innerText = msg; }

    window.onload = () => { showStatus('Glyph library loaded.'); generate(); };
  </script>
</body>

</html>