<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>openBrushograph</title>
   <style>
     :root {
      /* Default: light theme, aligned with z-babystep-like palette */
      --bg: #f8f9fa;
      --bg-alt: #f8f9fa;
      --accent: #e83e8c; /* pinkish */
      --accent-soft: rgba(232, 62, 140, 0.16);
      --accent-2: #e83e8c;
      --text: #212529;
      --muted: #6c757d;
      --border: #dee2e6;
      --card-bg: #ffffff;
      --radius-lg: 12px;
      --radius-md: 10px;
      --radius-pill: 999px;
      --shadow-soft: 0 0 15px rgba(0, 0, 0, 0.08);
      --shadow-subtle: 0 0 8px rgba(0, 0, 0, 0.05);
      --transition-fast: 180ms ease-out;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Inter", sans-serif;
    }

    /* Tropical theme variant, inspired by z-babystep-http */
    html[data-theme="tropical"] {
      --bg: #051a05;
      --bg-alt: #051a05;
      --accent: #ff00ff;
      --accent-soft: rgba(255, 0, 255, 0.2);
      --accent-2: #ff66ff;
      --text: #e0ffe0;
      --muted: #5ccc5c;
      --border: #2e8b57;
      --card-bg: #0a220a;
      --shadow-soft: 0 0 15px rgba(255, 0, 255, 0.2);
      --shadow-subtle: 0 0 10px rgba(255, 0, 255, 0.12);
    }

     * {
       box-sizing: border-box;
       margin: 0;
       padding: 0;
     }

     body {
       min-height: 100vh;
       margin: 0;
       font-family: var(--font-sans);
       background:
         radial-gradient(1200px 800px at 5% -10%, rgba(41, 224, 255, 0.24), transparent 60%),
         radial-gradient(1200px 800px at 110% 10%, rgba(255, 45, 172, 0.26), transparent 60%),
         linear-gradient(180deg, var(--bg), var(--bg-alt));
       color: var(--text);
       -webkit-font-smoothing: antialiased;
       display: flex;
       align-items: stretch;
       justify-content: center;
     }

     html[data-theme="light"] body {
       background: linear-gradient(180deg, #e9f2ff, #dde8ff);
     }

     .page-shell {
       width: 100%;
       max-width: 1120px;
       padding: 24px 20px 32px;
       display: flex;
       flex-direction: column;
       gap: 24px;
     }

     header {
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 16px;
     }

     .brand {
       display: flex;
       align-items: center;
       gap: 12px;
     }

     .logo-orbit {
       position: relative;
       width: 44px;
       height: 44px;
       border-radius: 50%;
       background: radial-gradient(circle at 30% 20%, #fbbf24, #f97316 45%, #7c2d12 100%);
       box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.45), 0 18px 40px rgba(0, 0, 0, 0.85);
       overflow: hidden;
     }

     .logo-orbit::before {
       content: "";
       position: absolute;
       inset: 24%;
       border-radius: 999px;
       border: 2px solid rgba(15, 23, 42, 0.9);
       border-left-color: rgba(15, 23, 42, 0.2);
       border-right-color: rgba(15, 23, 42, 0.2);
       transform: rotate(-18deg);
     }

     .logo-orbit::after {
       content: "";
       position: absolute;
       width: 7px;
       height: 7px;
       border-radius: 999px;
       background: #fef9c3;
       box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.4);
       right: 6px;
       top: 10px;
     }

     .brand-text {
       display: flex;
       flex-direction: column;
       gap: 2px;
     }

     .brand-title {
       font-size: 1.25rem;
       letter-spacing: 0.03em;
       text-transform: uppercase;
       font-weight: 650;
     }

     .brand-subtitle {
       font-size: 0.8rem;
       text-transform: uppercase;
       letter-spacing: 0.12em;
       color: var(--muted);
     }

     .chip {
       padding: 6px 12px;
       border-radius: var(--radius-pill);
       border: 1px solid rgba(148, 163, 184, 0.4);
       background: radial-gradient(circle at top left, rgba(148, 163, 184, 0.32), rgba(15, 23, 42, 0.6));
       display: inline-flex;
       align-items: center;
       gap: 6px;
       font-size: 0.72rem;
       text-transform: uppercase;
       letter-spacing: 0.14em;
       color: var(--muted);
       backdrop-filter: blur(12px);
     }

     .chip-dot {
       width: 8px;
       height: 8px;
       border-radius: 50%;
       background: radial-gradient(circle at 40% 30%, #bbf7d0, #22c55e);
       box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3);
     }

     main {
       display: grid;
       grid-template-columns: minmax(0, 3fr) minmax(0, 2.3fr);
       gap: 24px;
       align-items: stretch;
     }

     .hero-card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      padding: 24px 22px 22px;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .hero-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: transparent;
      pointer-events: none;
    }

     .hero-inner {
       position: relative;
       z-index: 1;
       display: flex;
       flex-direction: column;
       gap: 22px;
     }

     .pill-row {
       display: flex;
       flex-wrap: wrap;
       gap: 10px;
       font-size: 0.78rem;
     }

     .pill {
       border-radius: var(--radius-pill);
       padding: 6px 11px;
       background: rgba(15, 23, 42, 0.72);
       border: 1px solid rgba(148, 163, 184, 0.4);
       color: var(--muted);
       display: inline-flex;
       align-items: center;
       gap: 6px;
       backdrop-filter: blur(10px);
     }

     .pill span {
       font-size: 0.7rem;
       text-transform: uppercase;
       letter-spacing: 0.13em;
     }

     .pill-badge {
       padding: 3px 7px;
       border-radius: var(--radius-pill);
       background: rgba(15, 23, 42, 0.75);
       border: 1px solid rgba(251, 191, 36, 0.7);
       color: #facc15;
       font-size: 0.7rem;
       text-transform: uppercase;
       letter-spacing: 0.15em;
     }

     .hero-title {
       font-size: clamp(2.2rem, 3vw, 2.7rem);
       line-height: 1.08;
       letter-spacing: 0.02em;
     }

     .hero-title span {
       background: linear-gradient(135deg, var(--accent), var(--accent-2));
       -webkit-background-clip: text;
       background-clip: text;
       color: transparent;
     }

     .hero-lead {
       max-width: 34rem;
       color: var(--muted);
       font-size: 0.96rem;
       line-height: 1.6;
     }

     .hero-cta-row {
       display: flex;
       flex-wrap: wrap;
       gap: 12px;
       margin-top: 4px;
     }

     .button {
       display: inline-flex;
       align-items: center;
       justify-content: center;
       gap: 8px;
       padding: 9px 15px;
       border-radius: var(--radius-pill);
       border: 1px solid transparent;
       font-size: 0.88rem;
       font-weight: 500;
       text-decoration: none;
       cursor: pointer;
       transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
       white-space: nowrap;
     }

     .button-primary {
       background: linear-gradient(135deg, var(--accent), var(--accent-2));
       color: #0b1220;
       box-shadow: 0 12px 30px var(--accent-soft);
     }

     .button-primary:hover {
       transform: translateY(-1px);
       box-shadow: 0 18px 40px rgba(251, 146, 60, 0.55);
     }

     .button-ghost {
       background: rgba(15, 23, 42, 0.64);
       border-color: rgba(148, 163, 184, 0.55);
       color: var(--text);
     }

     .button-ghost:hover {
       background: rgba(15, 23, 42, 0.88);
       border-color: rgba(248, 250, 252, 0.8);
       box-shadow: 0 14px 32px rgba(0, 0, 0, 0.55);
       transform: translateY(-1px);
     }

     .button-icon {
       width: 16px;
       height: 16px;
       border-radius: 999px;
       border: 1px solid rgba(15, 23, 42, 0.5);
       background: rgba(15, 23, 42, 0.06);
       display: flex;
       align-items: center;
       justify-content: center;
       font-size: 0.7rem;
     }

     .meta-row {
       display: flex;
       flex-wrap: wrap;
       gap: 8px 16px;
       align-items: center;
       font-size: 0.78rem;
       color: var(--muted);
       margin-top: 10px;
     }

     .meta-label {
       text-transform: uppercase;
       letter-spacing: 0.13em;
       font-size: 0.7rem;
       color: rgba(209, 213, 219, 0.9);
     }

     .meta-dot {
       width: 3px;
       height: 3px;
       border-radius: 999px;
       background: rgba(148, 163, 184, 0.8);
     }

     .meta-tag {
       padding: 4px 9px;
       border-radius: var(--radius-pill);
       border: 1px solid rgba(148, 163, 184, 0.5);
       background: rgba(15, 23, 42, 0.8);
     }

     .side-panel {
       display: flex;
       flex-direction: column;
       gap: 14px;
     }

     .card {
       background: var(--card-bg);
       border-radius: var(--radius-lg);
       border: 1px solid var(--border);
       box-shadow: var(--shadow-subtle);
       padding: 14px 14px 13px;
     }

     .card-header {
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 10px;
       margin-bottom: 8px;
     }

     .card-header-main {
       display: flex;
       align-items: center;
       gap: 8px;
     }

     .card-logo {
       width: 26px;
       height: 26px;
       border-radius: 8px;
       object-fit: cover;
       box-shadow: 0 0 10px var(--accent-soft);
     }

     .brand-logo {
       width: 72px;
       height: 72px;
       border-radius: 16px;
       object-fit: cover;
       box-shadow: 0 0 18px rgba(255, 45, 172, 0.4), 0 0 18px rgba(41, 224, 255, 0.4);
       cursor: pointer;
     }

     .card-title {
       font-size: 0.86rem;
       text-transform: uppercase;
       letter-spacing: 0.16em;
       color: rgba(209, 213, 219, 0.95);
     }

     .card-kicker {
       font-size: 0.68rem;
       text-transform: uppercase;
       letter-spacing: 0.14em;
       color: var(--muted);
     }

     .card-body {
       font-size: 0.84rem;
       color: var(--muted);
       line-height: 1.6;
     }

     .link-list {
       list-style: none;
       margin: 8px 0 0;
       padding: 0;
       display: grid;
       gap: 4px;
     }

     .link-list a {
       color: #e5e7eb;
       text-decoration: none;
       font-size: 0.82rem;
       display: inline-flex;
       align-items: center;
       gap: 6px;
       padding: 3px 0;
     }

     .link-list a span {
       font-size: 0.76rem;
       color: rgba(148, 163, 184, 0.9);
     }

     .link-list a:hover {
       color: #fef3c7;
     }

     .link-chevron {
       font-size: 0.8rem;
       opacity: 0.7;
     }

     .badge-row {
       display: flex;
       flex-wrap: wrap;
       gap: 6px;
       margin-top: 8px;
     }

     .badge {
       border-radius: var(--radius-pill);
       padding: 3px 8px;
       border: 1px solid rgba(148, 163, 184, 0.55);
       font-size: 0.72rem;
       color: #e5e7eb;
       background: rgba(15, 23, 42, 0.85);
     }

     /* Light theme overrides for cards / hero to feel closer to FluidNC */
     html[data-theme="light"] .hero-card {
       background: linear-gradient(180deg, #ffffff, #f3f6ff);
       border-color: var(--border);
       box-shadow: var(--shadow-soft);
     }

     html[data-theme="light"] .card {
       background: #ffffff;
       border-color: var(--border);
       box-shadow: var(--shadow-subtle);
     }

     html[data-theme="light"] .badge {
       background: #eef3ff;
       color: #1f2937;
       border-color: #d0d7e8;
     }

     html[data-theme="light"] .pill,
     html[data-theme="light"] .pill-badge {
       background: #eef3ff;
       border-color: #cdd6f4;
       color: #1f2937;
     }

     html[data-theme="light"] .link-list a span {
       color: #6b7280;
     }

     html[data-theme="light"] .page-shell {
       color: var(--text);
     }

     html[data-theme="tropical"] .hero-card {
       background: linear-gradient(180deg, #0a220a, #051a05);
       border-color: var(--border);
       box-shadow: var(--shadow-soft);
     }

     html[data-theme="tropical"] .card {
       background: #0a220a;
       border-color: var(--border);
       box-shadow: var(--shadow-subtle);
     }

     html[data-theme="tropical"] .badge {
       background: #2e865f;
       color: #e0ffe0;
       border-color: #2e8b57;
     }

     html[data-theme="tropical"] .pill,
     html[data-theme="tropical"] .pill-badge {
       background: #2e865f;
       border-color: #2e8b57;
       color: #e0ffe0;
     }

     html[data-theme="tropical"] .link-list a span {
       color: #5ccc5c;
     }

     html[data-theme="tropical"] .page-shell {
       color: var(--text);
     }

     footer {
       margin-top: 2px;
       font-size: 0.78rem;
       color: rgba(148, 163, 184, 0.85);
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 10px;
       flex-wrap: wrap;
     }

     .footer-links {
       display: flex;
       flex-wrap: wrap;
       gap: 10px;
       align-items: center;
     }

     .footer-links a {
       color: rgba(209, 213, 219, 0.96);
       text-decoration: none;
     }

     .footer-links a:hover {
       color: #fef3c7;
     }

     .theme-toggle {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .theme-btn {
      font-size: 0.8rem;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--muted);
      cursor: pointer;
      padding: 2px 6px;
      border-radius: 4px;
    }

    .theme-btn:hover {
      color: var(--accent);
      border-color: var(--accent);
    }

     .extension-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 10px;
      margin-top: 8px;
    }

    .extension-tile {
      display: block;
      padding: 9px 10px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--card-bg);
      text-decoration: none;
      color: var(--text);
      box-shadow: var(--shadow-subtle);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
    }

    .extension-tile:hover {
      transform: translateY(-1px);
      border-color: var(--accent);
      box-shadow: 0 0 12px var(--accent-soft);
      background: rgba(232, 62, 140, 0.03);
    }

    .extension-name {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--text);
      margin-bottom: 4px;
      display: flex;
      align-items: center;
       justify-content: space-between;
       gap: 6px;
     }

     .extension-desc {
       font-size: 0.78rem;
       color: var(--muted);
       line-height: 1.5;
     }

     .extension-chip {
      border-radius: var(--radius-pill);
      border: 1px solid rgba(232, 62, 140, 0.45);
      padding: 2px 7px;
      font-size: 0.7rem;
      color: var(--accent);
      background: rgba(232, 62, 140, 0.06);
    }

     @media (max-width: 880px) {
       main {
         grid-template-columns: minmax(0, 1fr);
       }

       .hero-card {
         padding: 22px 18px 20px;
       }
     }

     @media (max-width: 600px) {
       .page-shell {
         padding-inline: 16px;
       }

       header {
         flex-direction: column;
         align-items: flex-start;
       }

       .brand-title {
         font-size: 1.15rem;
       }
     }
   </style>
 </head>
 <body>
   <div class="page-shell">
     <header>
       <div class="brand">
         <img class="brand-logo" src="img/logo.png" alt="openBrushograph logo" />
         <div class="brand-text">
           <div class="brand-title">openBrushograph</div>
           <div class="brand-subtitle">CNC painting ¬∑ open hardware ¬∑ open software</div>
         </div>
       </div>
       <div style="display:flex; align-items:center; gap:8px;">
        <div class="chip">
          <span class="chip-dot"></span>
          <span>Open tools for playful machine painting</span>
        </div>
        <div class="theme-toggle" aria-label="Theme toggle">
          <button class="theme-btn" type="button" onclick="setTheme('light')" title="Light mode">‚òÄÔ∏è</button>
          <button class="theme-btn" type="button" onclick="setTheme('tropical')" title="Tropical mode">üå¥</button>
        </div>
      </div>
     </header>

     <main>
       <section class="hero-card" aria-labelledby="hero-heading">
         <div class="hero-inner">
           <div class="pill-row">
             <div class="pill">
               <span>Open hardware</span>
             </div>
             <div class="pill">
               <span>Open source software</span>
             </div>
             <div class="pill">
               <span>G-code painting</span>
             </div>
             <div class="pill">
               <span>Workshops & tinkering</span>
             </div>
             <div class="pill-badge">Community project</div>
           </div>

           <h1 id="hero-heading" class="hero-title">
             openBrushograph painting tools for
             <span>brushes, inks & improvised machines.</span>
           </h1>

           <p class="hero-lead">
             openBrushograph grows out of the Brushograph experiments in "brushology" ‚Äì playful ways of
             painting with a mechatronic brush. It brings together low-cost CNC mechanics, open source software,
             brush heads, inks and hacked-together controllers. Here you will find firmware extensions,
             software tools, workshop files and documentation for openBrushograph machines and related experiments.
           </p>

           <div class="hero-cta-row">
             <a class="button button-primary" href="https://github.com/openBrushograph" target="_blank" rel="noreferrer">
               <span class="button-icon">‚òÖ</span>
               <span>Browse projects on GitHub</span>
             </a>
             <a class="button button-ghost" href="https://github.com/openBrushograph/openBrushograph.github.io" target="_blank" rel="noreferrer">
               <span>Source of this site</span>
             </a>
           </div>
           <div class="extension-grid">
             <a class="extension-tile" href="https://nirmanaflow.netlify.app/" target="_blank" rel="noreferrer" style="border-color: var(--accent); box-shadow: 0 0 15px var(--accent-soft);">
               <div class="extension-name">
                 <span>NirmanaFlow</span>
                 <span class="extension-chip" style="background: var(--accent); color: #fff; border: none; font-weight: 700;">NEW</span>
               </div>
               <div class="extension-desc">
                 Generative flow field art for plotters. Create organic textures and patterns directly in the browser.
               </div>
             </a>
             <a class="extension-tile" href="extensions/batak-assembler.html" style="background: #2b0b0b; border-color: #8e0000; color: #fff8e1;">
              <div class="extension-name">
                <span style="color: #ffd700;">Batak Assembler</span>
                <span class="extension-chip" style="background: #d32f2f; color: #ffd700; border-color: #ffd700;">Gorga</span>
              </div>
              <div class="extension-desc" style="color: #d7ccc8;">
                Construct Batak script text paths from skeletal definitions. Generates vector paths for plotting.
              </div>
            </a>
            <a class="extension-tile" href="https://brushograph.pro/" target="_blank" rel="noreferrer">
              <div class="extension-name">
                <span>brushograph.pro</span>
                <span class="extension-chip">main web UI</span>
              </div>
              <div class="extension-desc">
                The primary web interface for converting images and vectors into brush-friendly G-code toolpaths.
              </div>
            </a>
            <a class="extension-tile" href="extensions/Raster-painter.html">
               <div class="extension-name">
                 <span>Raster-painter</span>
                 <span class="extension-chip">image ‚Üí G-code</span>
               </div>
               <div class="extension-desc">
                 Generate FluidNC raster G-code from images, with brush dipping, wiping and optional X/Y backlash compensation.
               </div>
             </a>
             <a class="extension-tile" href="extensions/PaintByNumbers.html">
               <div class="extension-name">
                 <span>PaintByNumbers</span>
                 <span class="extension-chip">numbered passes</span>
               </div>
               <div class="extension-desc">
                 Turn separated regions or colors into numbered painting passes with brush-friendly G-code output.
               </div>
             </a>
             <a class="extension-tile" href="extensions/Raster_plotter_Variable_Z.html">
               <div class="extension-name">
                 <span>Raster_plotter</span>
                 <span class="extension-chip">variable Z</span>
               </div>
               <div class="extension-desc">
                 Experimental raster plotting with variable Z heights for brush pressure / height effects.
               </div>
             </a>
             <a class="extension-tile" href="extensions/backlash_fix.html">
               <div class="extension-name">
                 <span>backlash_fix</span>
                 <span class="extension-chip">X/Y compensation</span>
               </div>
               <div class="extension-desc">
                 Post-process existing G-code to insert safe correction moves whenever X/Y direction changes, compensating mechanical backlash.
               </div>
             </a>
             <a class="extension-tile" href="extensions/lb2gcode.html">
               <div class="extension-name">
                 <span>lb2gcode</span>
                 <span class="extension-chip">LightBurn colors</span>
               </div>
               <div class="extension-desc">
                 Add color pick-ups, washing sequences and path-length based brush refreshes to LightBurn G-code using layer names.
               </div>
             </a>
           </div>
         </div>
       </section>

       <aside class="side-panel" aria-label="Project links and resources">
         <article class="card">
           <div class="card-header">
             <div class="card-header-main">
               <img class="card-logo" src="img/logo.png" alt="Brushograph icon" />
               <div>
                 <div class="card-title">Repositories</div>
                 <div class="card-kicker">Code ¬∑ configs ¬∑ documentation</div>
               </div>
             </div>
           </div>
           <div class="card-body">
            <ul class="link-list">
              <li>
                <a href="https://wiki.sgmk-ssam.ch/wiki/Brushograph" target="_blank" rel="noreferrer">
                  <span>Brushograph wiki ‚Äì context & build notes</span>
                  <span class="link-chevron">‚Üó</span>
                </a>
              </li>
              <li>
                <a href="https://brushograph.pro/" target="_blank" rel="noreferrer">
                  <span>brushograph.pro ‚Äì main web UI</span>
                  <span class="link-chevron">‚Üó</span>
                </a>
              </li>
              <li>
                <a href="https://github.com/openBrushograph/Brushograph_workshop_examples" target="_blank" rel="noreferrer">
                  <span>Brushograph_workshop_examples ‚Äì labs & files</span>
                  <span class="link-chevron">‚Üó</span>
                </a>
              </li>
              <li>
                <a href="https://github.com/openBrushograph/openBrushograph_hardware" target="_blank" rel="noreferrer">
                  <span>openBrushograph_hardware ‚Äì mechanics & parts</span>
                  <span class="link-chevron">‚Üó</span>
                </a>
              </li>
            </ul>

            <div class="badge-row" style="margin-top: 10px;">
              <div class="badge">Hackable CNC painting setups</div>
              <div class="badge">Low-cost materials</div>
              <div class="badge">FOSS tools</div>
              <div class="badge">Work-in-progress labs</div>
            </div>
          </div>
         </article>

         <article class="card">
           <div class="card-header">
             <div>
               <div class="card-title">How to get started</div>
               <div class="card-kicker">Mini guide</div>
             </div>
           </div>
           <div class="card-body">
             <p>
               1. Read the <a href="https://wiki.sgmk-ssam.ch/wiki/Brushograph" target="_blank" rel="noreferrer">Brushograph wiki</a>
               for background, construction notes and links to earlier machines.
             </p>
             <p>
               2. Use <a href="https://brushograph.pro/" target="_blank" rel="noreferrer">brushograph.pro</a>
                to generate and tweak brush-friendly toolpaths.
             </p>
             <p>
               3. Explore the openBrushograph repositories for FluidNC extensions, hardware and workshop
               examples, then adapt them to your own DIY CNC painting setup.
             </p>
             <p>
               4. Experiment with different brushes, inks, papers, ceramics or glass ‚Äì and feed your findings
               back into the wiki, issues and forks.
             </p>
           </div>
         </article>
       </aside>
     </main>

     <footer>
       <div>
         Maintained under the <strong>openBrushograph</strong> umbrella ¬∑ experiments may break, fork freely.
       </div>
       <div class="footer-links">
         <a href="https://github.com/openBrushograph" target="_blank" rel="noreferrer">GitHub org</a>
         <a href="https://wiki.sgmk-ssam.ch/wiki/Brushograph" target="_blank" rel="noreferrer">Wiki</a>
         <a href="https://brushograph.pro/" target="_blank" rel="noreferrer">brushograph.pro</a>
       </div>
     </footer>
   </div>
 </body>

 <script>
  (function() {
    const root = document.documentElement;
    const key = 'obg-theme';
    const logo = document.querySelector('.brand-logo');

    function apply(theme) {
      if (theme === 'tropical') {
        root.setAttribute('data-theme', 'tropical');
      } else {
        root.removeAttribute('data-theme');
      }
    }

    // Expose setTheme globally so header buttons can call it, similar to z-babystep-http
    window.setTheme = function(mode) {
      const theme = mode === 'tropical' ? 'tropical' : 'light';
      apply(theme);
      localStorage.setItem(key, theme);
    };

    let saved = localStorage.getItem(key);
    if (saved !== 'light' && saved !== 'tropical') {
      saved = 'light';
    }
    apply(saved);

    // Allow clicking the logo to toggle between light and tropical
    function toggleTheme() {
      const isTropical = root.getAttribute('data-theme') === 'tropical';
      const next = isTropical ? 'light' : 'tropical';
      window.setTheme(next);
    }

    logo?.addEventListener('click', toggleTheme);
  })();
 </script>

 </html>
